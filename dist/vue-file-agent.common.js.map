{"version":3,"file":"vue-file-agent.common.js","mappings":";;;;;;AAAA;AACA;AACA;;AAEA;;AAEA;AACA,MAAM,IAA0C;AAChD,IAAI,iCAAO,EAAE,oCAAE,OAAO;AAAA;AAAA;AAAA,kGAAC;AACvB,IAAI,KAAK,EAIN;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;AACA,+DAA+D,qBAAqB;AACpF;AACA;AACA;AACA,sBAAsB,oBAAoB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;UC9ED;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;;AAEA;AACA;AACA,MAAM,IAAuC;AAC7C,2BAA2B,mBAAO,CAAC,GAA0B;AAC7D;;AAEA;AACA;AACA,yDAAyD,uBAAuB;AAChF;AACA;;AAEA;AACA;AACA,IAAI,qBAAuB;AAC3B;AACA;;AAEA;AACA,kDAAe,IAAI;;;ACtBnB,+BAA+B,0DAA0D,iBAAiB,OAAO,+BAA+B,4CAA4C,uBAAuB,iBAAiB,OAAO,YAAY;AACvP;AACA;;;;ACFA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS,gBAAgB,sCAAsC,kBAAkB;AACjF,wBAAwB;AACxB;AACA;;AAEO;AACP;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEO;AACP;AACA,+CAA+C,OAAO;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA,2DAA2D,cAAc;AACzE;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA,2CAA2C,QAAQ;AACnD;AACA;;AAEO;AACP,kCAAkC;AAClC;;AAEO;AACP,uBAAuB,uFAAuF;AAC9G;AACA;AACA,yGAAyG;AACzG;AACA,sCAAsC,QAAQ;AAC9C;AACA,gEAAgE;AAChE;AACA,8CAA8C,yFAAyF;AACvI,8DAA8D,2CAA2C;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA,kBAAkB,yBAAyB;AAC3C;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA,4CAA4C,yEAAyE;AACrH;;AAEO;AACP;AACA;;AAEO;AACP,0BAA0B,+DAA+D,iBAAiB;AAC1G;AACA,kCAAkC,MAAM,+BAA+B,YAAY;AACnF,iCAAiC,MAAM,mCAAmC,YAAY;AACtF,8BAA8B;AAC9B;AACA,GAAG;AACH;;AAEO;AACP,YAAY,6BAA6B,0BAA0B,cAAc,qBAAqB;AACtG,eAAe,oDAAoD,qEAAqE,cAAc;AACtJ,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC,iCAAiC,SAAS;AAC1C,iCAAiC,WAAW,UAAU;AACtD,wCAAwC,cAAc;AACtD;AACA,4GAA4G,OAAO;AACnH,+EAA+E,iBAAiB;AAChG,uDAAuD,gBAAgB,QAAQ;AAC/E,6CAA6C,gBAAgB,gBAAgB;AAC7E;AACA,gCAAgC;AAChC;AACA;AACA,QAAQ,YAAY,aAAa,SAAS,UAAU;AACpD,kCAAkC,SAAS;AAC3C;AACA;;AAEO;AACP;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;;AAEM;AACP;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,MAAM;AACxB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACO;AACP,2BAA2B,sBAAsB;AACjD;AACA;AACA;;AAEA;AACO;AACP,gDAAgD,QAAQ;AACxD,uCAAuC,QAAQ;AAC/C,uDAAuD,QAAQ;AAC/D;AACA;AACA;;AAEO;AACP,2EAA2E,OAAO;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACA,eAAe,uFAAuF,cAAc;AACpH,qBAAqB,gCAAgC,qCAAqC,2CAA2C;AACrI,0BAA0B,MAAM,iBAAiB,YAAY;AAC7D,qBAAqB;AACrB,4BAA4B;AAC5B,2BAA2B;AAC3B,0BAA0B;AAC1B;;AAEO;AACP;AACA,eAAe,6CAA6C,UAAU,sDAAsD,cAAc;AAC1I,wBAAwB,6BAA6B,oBAAoB,uCAAuC,kBAAkB;AAClI;;AAEO;AACP;AACA;AACA,yGAAyG,uFAAuF,cAAc;AAC9M,qBAAqB,8BAA8B,gDAAgD,wDAAwD;AAC3J,2CAA2C,sCAAsC,UAAU,mBAAmB,IAAI;AAClH;;AAEO;AACP,+BAA+B,uCAAuC,YAAY,KAAK,OAAO;AAC9F;AACA;;AAEA;AACA,wCAAwC,4BAA4B;AACpE,CAAC;AACD;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP,2CAA2C;AAC3C;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,8CAA8C;AACnE;AACA;AACA,qBAAqB,aAAa;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,SAAS,gBAAgB;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8CAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,EAAC;;;ACjXF,+CAAe;IACb,OAAO,EAAE;QACP,KAAK;QACL,KAAK;QACL,KAAK;QACL,MAAM;QACN,SAAS;QACT,KAAK;QACL,SAAS;QACT,SAAS;QACT,KAAK;QACL,KAAK;KACN;IACD,gBAAgB,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;IACvC,SAAS,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,EAAE,KAAK,CAAC;IAC1E,MAAM,EAAE;QACN,SAAS;QACT,KAAK;QACL,KAAK;QACL,OAAO;QACP,KAAK;KACN;IACD,UAAU,EAAE;QACV,KAAK;QACL,KAAK;QACL,IAAI;QACJ,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,QAAQ;KACT;IACD,YAAY,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC;IACnG,MAAM,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;IACpC,OAAO,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,CAAC;IAC7F,QAAQ,EAAE;QACR,KAAK;QACL,MAAM;QACN,KAAK;QACL,KAAK;QACL,KAAK;QACL,IAAI;QACJ,KAAK;QACL,MAAM;QACN,KAAK;QACL,MAAM;QACN,KAAK;QACL,SAAS;QACT,MAAM;QACN,KAAK;QACL,IAAI;QACJ,KAAK;QACL,KAAK;QACL,OAAO;KACR;IACD,cAAc,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,CAAC;IACpD,QAAQ,EAAE,CAAC,GAAG,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC;IACrF,OAAO,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,CAAC;IACtC,QAAQ,EAAE;QACR,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,MAAM;QACN,SAAS;QACT,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;KACN;IACD,OAAO,EAAE;QACP,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,MAAM;QACN,SAAS;QACT,KAAK;QACL,SAAS;QACT,SAAS;QACT,KAAK;QACL,MAAM;QACN,IAAI;QACJ,KAAK;QACL,KAAK;QACL,UAAU;QACV,KAAK;KACN;IACD,gBAAgB,EAAE,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,CAAC;IACxC,KAAK,EAAE,CAAC,KAAK,CAAC;IACd,KAAK,EAAE;QACL,KAAK;QACL,MAAM;QACN,KAAK;QACL,KAAK;QACL,KAAK;QACL,SAAS;QACT,KAAK;QACL,KAAK;QACL,KAAK;KACN;IACD,MAAM,EAAE,CAAC,KAAK,CAAC;IACf,OAAO,EAAE,CAAC,MAAM,CAAC;IACjB,KAAK,EAAE,CAAC,KAAK,CAAC;IACd,QAAQ,EAAE,CAAC,QAAQ,CAAC;IACpB,MAAM,EAAE,CAAC,MAAM,CAAC;CACjB,EAAC;;;;;ACjHyC;AAE3C;IAEE,iBAAmB,KAAe,EAAS,KAAc,EAAS,OAAgB;QAA/D,UAAK,GAAL,KAAK,CAAU;QAAS,UAAK,GAAL,KAAK,CAAS;QAAS,YAAO,GAAP,OAAO,CAAS;QAD3E,aAAQ,GAAW,EAAE,CAAC;IACwD,CAAC;IACxF,cAAC;AAAD,CAAC;;AAED,IAAM,aAAa,GAAG,CAAC,0FAA0F,CAAC,CAAC;AAEnH,IAAM,KAAK,GAAG;IACZ,QAAQ,EAAE,IAAI,OAAO,CACnB;QACE,wEAAwE;QACxE,kGAAkG;KACnG,EACD,SAAS,CACV;IACD,OAAO,EAAE,IAAI,OAAO,CAClB;QACE,uKAAuK;QACvK,2BAA2B;QAC3B,oHAAoH;KACrH,EACD,MAAM,CACP;IACD,OAAO,EAAE,IAAI,OAAO,CAClB;QACE,8QAA8Q;KAC/Q,EACD,SAAS,CACV;IACD,gBAAgB,EAAE,IAAI,OAAO,CAAC,aAAa,EAAE,MAAM,EAAE,WAAW,CAAC;IACjE,gBAAgB,EAAE,IAAI,OAAO,CAAC,aAAa,EAAE,SAAS,EAAE,WAAW,CAAC;IACpE,SAAS,EAAE,IAAI,OAAO,CACpB;QACE,6dAA6d;KAC9d,EACD,SAAS,CACV;IACD,QAAQ,EAAE,IAAI,OAAO,CACnB;QACE,s7BAAs7B;KACv7B,EACD,MAAM,CACP;IACD,OAAO,EAAE,IAAI,OAAO,CAClB;QACE,gFAAgF;QAChF,uDAAuD;KACxD,EACD,SAAS,CACV;IACD,KAAK,EAAE,IAAI,OAAO,CAChB;QACE,qQAAqQ;QACrQ,mHAAmH;KACpH,EACD,SAAS,CACV;IACD,YAAY,EAAE,IAAI,OAAO,CACvB,CAAC,iFAAiF,CAAC,EACnF,MAAM,CACP;IACD,OAAO,EAAE,IAAI,OAAO,CAClB;QACE,gzBAAgzB;KACjzB,EACD,MAAM,CACP;IACD,QAAQ,EAAE,IAAI,OAAO,CACnB;QACE,yJAAyJ;KAC1J,CAAC,eAAe,CAClB;IACD,QAAQ,EAAE,IAAI,OAAO,CACnB;QACE,6XAA6X;KAC9X,CAAC,eAAe,CAClB;IACD,MAAM,EAAE,IAAI,OAAO,CACjB;QACE,+IAA+I;QAC/I,qdAAqd;KACtd,EACD,MAAM,CACP;IACD,MAAM,EAAE,IAAI,OAAO,CACjB,CAAC,iGAAiG,CAAC,EACnG,SAAS,CACV;IACD,UAAU,EAAE,IAAI,OAAO,CACrB;QACE,6TAA6T;QAC7T,kXAAkX;QAClX,6QAA6Q;KAC9Q,EACD,SAAS,CACV;IACD,KAAK,EAAE,IAAI,OAAO,CAChB;QACE,oxBAAoxB;KACrxB,EACD,SAAS,CACV;IACD,OAAO,EAAE,IAAI,OAAO,CAClB;QACE,2MAA2M;KAC5M,EACD,SAAS,CACV;IACD,cAAc,EAAE,IAAI,OAAO,CACzB;QACE,gnBAAgnB;QAChnB,2bAA2b;KAC5b,EACD,SAAS,CACV;IACD,MAAM,EAAE,IAAI,OAAO,CACjB;QACE,yTAAyT;QACzT,omBAAomB;KACrmB,EACD,SAAS,CACV;IACD,KAAK,EAAE,IAAI,OAAO,CAChB;QACE,kPAAkP;KACnP,EACD,SAAS,CACV;IACD,OAAO,EAAE,IAAI,OAAO,CAClB;QACE,qNAAqN;KACtN,CAAC,eAAe,CAClB;IACD,eAAe;IACf,cAAc,EAAE,IAAI,OAAO,CACzB,CAAC,uGAAuG,CAAC,EACzG,SAAS,EACT,WAAW,CACZ;IACD,yBAAyB,EAAE,IAAI,OAAO,CACpC;QACE,meAAme;KACpe,EACD,SAAS,EACT,eAAe,CAChB;IACD,eAAe;IACf,wBAAwB,EAAE,IAAI,OAAO,CAAC,CAAC,+CAA+C,CAAC,EAAE,SAAS,EAAE,WAAW,CAAC;IAChH,qBAAqB,EAAE,IAAI,OAAO,CAChC,CAAC,0FAA0F,CAAC,EAC5F,SAAS,EACT,WAAW,CACZ;IACD,2FAA2F;IAC3F,uBAAuB,EAAE,IAAI,OAAO,CAClC;QACE,uJAAuJ;KACxJ,EACD,SAAS,EACT,WAAW,CACZ;CACF,CAAC;AAEF,KAAK,IAAM,QAAQ,IAAI,KAAK,EAAE;IAC5B,IAAI,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE;QACjC,KAAa,CAAC,QAAQ,CAAC,CAAC,QAAQ,GAAG,QAAQ,CAAC;KAC9C;CACF;AAED,8CAAe,qDAAK,IAAC;AAEd,IAAM,aAAa,GAAQ,EAAE,CAAC;AAErC,KAAK,IAAM,GAAG,IAAI,UAAU,EAAE;IAC5B,IAAI,UAAU,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;;YAClC,KAAkB,iCAAC,UAAkB,CAAC,GAAG,CAAC,8CAAE;gBAAvC,IAAM,GAAG;gBACZ,aAAa,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;aAC1B;;;;;;;;;KACF;CACF;AAEM,SAAS,aAAa,CAAC,IAAY;IACxC,IAAM,OAAO,GAAI,KAAa,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,KAAK,CAAC;IACpD,OAAO,OAAO,CAAC;AACjB,CAAC;AAEM,SAAS,cAAc,CAAC,GAAW;IACxC,GAAG,GAAG,GAAG,CAAC,WAAW,EAAE,CAAC;IACxB,IAAM,GAAG,GAAG,aAAa,CAAC,GAAG,CAAC,CAAC;IAC/B,OAAO,aAAa,CAAC,GAAG,CAAC,CAAC;AAC5B,CAAC;;;AChMD,IAAI,4DAA4B;;;ACShC;AACA;AAEA;IACA;IACA;QACA;YACA;gBACA;aACA;YACA;QACA;QACA;YACA;gBACA;aACA;YACA;YACA;QACA;KACA;CACA;;;AC7BuM,CAAC,oFAAe,oCAAG,EAAC;;ACA3N;;AAEA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AC/F2F;AAC3B;AACL;;;AAG3D;AACA,CAAmG;AACnG,gBAAgB,kBAAU;AAC1B,EAAE,+CAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA,kDAAe;;AClBf,IAAI,oDAAM,qBAAqB,0DAA0D,iBAAiB;AAC1G;AACA;AACA;AACA,MAAM,kDAAkD;AACxD,MAAM,wCAAwC;AAC9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","sources":["webpack://vue-file-agent/./node_modules/@soda/get-current-script/index.js","webpack://vue-file-agent/webpack/bootstrap","webpack://vue-file-agent/webpack/runtime/compat get default export","webpack://vue-file-agent/webpack/runtime/define property getters","webpack://vue-file-agent/webpack/runtime/hasOwnProperty shorthand","webpack://vue-file-agent/webpack/runtime/make namespace object","webpack://vue-file-agent/webpack/runtime/publicPath","webpack://vue-file-agent/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://vue-file-agent/./src/components/vue-file-icon.vue?b17a","webpack://vue-file-agent/./node_modules/tslib/tslib.es6.mjs","webpack://vue-file-agent/./src/lib/extensions.ts","webpack://vue-file-agent/./src/lib/icons.ts","webpack://vue-file-agent/external commonjs2 {\"commonjs\":\"vue\",\"commonjs2\":\"vue\",\"root\":\"Vue\"}","webpack://vue-file-agent/src/components/vue-file-icon.vue","webpack://vue-file-agent/./src/components/vue-file-icon.vue?95c2","webpack://vue-file-agent/./node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js","webpack://vue-file-agent/./src/components/vue-file-icon.vue","webpack://vue-file-agent/./src/components/vue-file-preview.vue?1d71","webpack://vue-file-agent/./src/lib/drop-handler.ts","webpack://vue-file-agent/./src/lib/utils.ts","webpack://vue-file-agent/./src/lib/file-record.ts","webpack://vue-file-agent/./src/components/vue-file-preview-mixin.ts","webpack://vue-file-agent/src/components/vue-file-preview.vue","webpack://vue-file-agent/./src/components/vue-file-preview.vue?b4b6","webpack://vue-file-agent/./src/components/vue-file-preview.vue","webpack://vue-file-agent/./src/components/vue-file-list.vue?5164","webpack://vue-file-agent/src/components/vue-file-list.vue","webpack://vue-file-agent/./src/components/vue-file-list.vue?058d","webpack://vue-file-agent/./src/components/vue-file-list.vue","webpack://vue-file-agent/./src/components/vue-file-list-item.vue?84e6","webpack://vue-file-agent/src/components/vue-file-list-item.vue","webpack://vue-file-agent/./src/components/vue-file-list-item.vue?6d74","webpack://vue-file-agent/./src/components/vue-file-list-item.vue","webpack://vue-file-agent/./src/components/vue-file-agent.vue?03d7","webpack://vue-file-agent/./src/lib/ajax-request.ts","webpack://vue-file-agent/./src/lib/upload-helper.ts","webpack://vue-file-agent/./src/lib/plugins.ts","webpack://vue-file-agent/./src/components/vue-file-agent-mixin.ts","webpack://vue-file-agent/src/components/vue-file-agent.vue","webpack://vue-file-agent/./src/components/vue-file-agent.vue?a882","webpack://vue-file-agent/./src/components/vue-file-agent.vue?74d1","webpack://vue-file-agent/./src/components/vue-file-agent.vue?60d9","webpack://vue-file-agent/./src/components/vue-file-agent.vue","webpack://vue-file-agent/./src/index.ts","webpack://vue-file-agent/./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js"],"sourcesContent":["// addapted from the document.currentScript polyfill by Adam Miller\n// MIT license\n// source: https://github.com/amiller-gh/currentScript-polyfill\n\n// added support for Firefox https://bugzilla.mozilla.org/show_bug.cgi?id=1620505\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = factory();\n  } else {\n    root.getCurrentScript = factory();\n  }\n}(typeof self !== 'undefined' ? self : this, function () {\n  function getCurrentScript () {\n    var descriptor = Object.getOwnPropertyDescriptor(document, 'currentScript')\n    // for chrome\n    if (!descriptor && 'currentScript' in document && document.currentScript) {\n      return document.currentScript\n    }\n\n    // for other browsers with native support for currentScript\n    if (descriptor && descriptor.get !== getCurrentScript && document.currentScript) {\n      return document.currentScript\n    }\n  \n    // IE 8-10 support script readyState\n    // IE 11+ & Firefox support stack trace\n    try {\n      throw new Error();\n    }\n    catch (err) {\n      // Find the second match for the \"at\" string to get file src url from stack.\n      var ieStackRegExp = /.*at [^(]*\\((.*):(.+):(.+)\\)$/ig,\n        ffStackRegExp = /@([^@]*):(\\d+):(\\d+)\\s*$/ig,\n        stackDetails = ieStackRegExp.exec(err.stack) || ffStackRegExp.exec(err.stack),\n        scriptLocation = (stackDetails && stackDetails[1]) || false,\n        line = (stackDetails && stackDetails[2]) || false,\n        currentLocation = document.location.href.replace(document.location.hash, ''),\n        pageSource,\n        inlineScriptSourceRegExp,\n        inlineScriptSource,\n        scripts = document.getElementsByTagName('script'); // Live NodeList collection\n  \n      if (scriptLocation === currentLocation) {\n        pageSource = document.documentElement.outerHTML;\n        inlineScriptSourceRegExp = new RegExp('(?:[^\\\\n]+?\\\\n){0,' + (line - 2) + '}[^<]*<script>([\\\\d\\\\D]*?)<\\\\/script>[\\\\d\\\\D]*', 'i');\n        inlineScriptSource = pageSource.replace(inlineScriptSourceRegExp, '$1').trim();\n      }\n  \n      for (var i = 0; i < scripts.length; i++) {\n        // If ready state is interactive, return the script tag\n        if (scripts[i].readyState === 'interactive') {\n          return scripts[i];\n        }\n  \n        // If src matches, return the script tag\n        if (scripts[i].src === scriptLocation) {\n          return scripts[i];\n        }\n  \n        // If inline source matches, return the script tag\n        if (\n          scriptLocation === currentLocation &&\n          scripts[i].innerHTML &&\n          scripts[i].innerHTML.trim() === inlineScriptSource\n        ) {\n          return scripts[i];\n        }\n      }\n  \n      // If no match, return null\n      return null;\n    }\n  };\n\n  return getCurrentScript\n}));\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","/* eslint-disable no-var */\n// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    var getCurrentScript = require('@soda/get-current-script')\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_public_path__ = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('svg',{attrs:{\"viewBox\":_vm.viewBoxComputed}},[_vm._l((_vm.icon.paths),function(d,index){return [(d)?_c('path',{key:index,attrs:{\"d\":d}}):_vm._e()]})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","export default {\n  'audio': [\n    'aif',\n    'cda',\n    'mid',\n    'midi',\n    // 'mp3',\n    'mpa',\n    // 'ogg',\n    // 'wav',\n    'wma',\n    'wpl',\n  ],\n  'audio-playable': ['mp3', 'ogg', 'wav'],\n  'archive': ['7z', 'arj', 'deb', 'pkg', 'rar', 'rpm', 'tar.gz', 'z', 'zip'],\n  'disc': [\n    // 'bin',\n    'dmg',\n    'iso',\n    'toast',\n    'vcd',\n  ],\n  'database': [\n    'csv',\n    'dat',\n    'db',\n    'dbf',\n    'log',\n    'mdb',\n    'sav',\n    'sql',\n    'tar',\n    // 'xml'\n  ],\n  'executable': ['apk', 'bat', 'bin', 'cgi', 'pl', 'com', 'exe', 'gadget', 'jar', 'py', 'wsf', 'ipa'],\n  'font': ['fnt', 'fon', 'otf', 'ttf'],\n  'image': ['ai', 'bmp', 'gif', 'ico', 'jpeg', 'jpg', 'png', 'ps', 'psd', 'svg', 'tif', 'tiff'],\n  'markup': [\n    'asp',\n    'aspx',\n    'cer',\n    'cfm',\n    'cgi',\n    'pl',\n    'css',\n    'scss',\n    'htm',\n    'html',\n    'jsp',\n    // 'vue',\n    'part',\n    'php',\n    'py',\n    'rss',\n    'xml',\n    'xhtml',\n  ],\n  'presentation': ['key', 'odp', 'pps', 'ppt', 'pptx'],\n  'script': ['c', 'class', 'cpp', 'cs', 'h', 'java', 'js', 'json', 'sh', 'swift', 'vb'],\n  'sheet': ['ods', 'xlr', 'xls', 'xlsx'],\n  'system': [\n    'bak',\n    'cab',\n    'cfg',\n    'cpl',\n    'cur',\n    'dll',\n    'dmp',\n    'drv',\n    'icns',\n    // 'ico',\n    'ini',\n    'lnk',\n    'msi',\n    'sys',\n    'tmp',\n  ],\n  'video': [\n    '3g2',\n    '3gp',\n    'avi',\n    'flv',\n    'h264',\n    // 'm4v',\n    'mkv',\n    // 'mov',\n    // 'mp4',\n    'mpg',\n    'mpeg',\n    'rm',\n    'swf',\n    'vob',\n    // 'webm',\n    'wmv',\n  ],\n  'video-playable': ['mp4', 'webm', 'mov'],\n  'vue': ['vue'],\n  'doc': [\n    'doc',\n    'docx',\n    'odt',\n    'rtf',\n    'tex',\n    // 'txt',\n    'wks',\n    'wps',\n    'wpd',\n  ],\n  'text': ['txt'],\n  'ebook': ['epub'],\n  'pdf': ['pdf'],\n  'folder': ['folder'],\n  'play': ['play'],\n};\n","import extensions from '../lib/extensions';\n\nexport class SvgIcon {\n  public category: string = '';\n  constructor(public paths: string[], public color?: string, public viewBox?: string) {}\n}\n\nconst playIconPaths = ['M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z'];\n\nconst icons = {\n  'folder': new SvgIcon(\n    [\n      'M96.5 93.7h-93c-2 0-3.5-1.5-3.5-3.5V35.4h100v54.8c0 2-1.5 3.5-3.5 3.5z',\n      'M44.9 20V9.7c0-2-1.5-3.5-3.5-3.5h-38C1.5 6.3 0 7.8 0 9.7v25.7h100V23.5c0-2-1.5-3.5-3.5-3.5H44.9z',\n    ],\n    '#efce4a'\n  ),\n  'audio': new SvgIcon(\n    [\n      'M32.5 37.5h-9v25h9L53.6 77V23L32.5 37.5M71.9 50c0 6.8-3.7 12.7-9.1 15.8l2.8 4.9c7.1-4.1 11.9-11.8 11.9-20.7 0-8.8-4.8-16.6-11.9-20.7l-2.8 4.9c5.4 3.1 9.1 9 9.1 15.8z',\n      // tslint:disable-next-line\n      'M62.1 50c0 3.2-1.7 5.9-4.3 7.4l2.7 4.7c4.2-2.4 7-6.9 7-12.1 0-5.2-2.8-9.7-7-12.1l-2.7 4.7c2.6 1.5 4.3 4.2 4.3 7.4z',\n    ],\n    '#039'\n  ),\n  'video': new SvgIcon(\n    [\n      'M21 26.4v47.1h58V26.4H21zm10.9 43.5h-7.2v-7.2h7.2v7.2zm0-10.8h-7.2v-7.2h7.2v7.2zm0-10.9h-7.2V41h7.2v7.2zm0-10.9h-7.2v-7.2h7.2v7.2zm10.9 25.4V37.3L60.9 50 42.8 62.7zm32.6 7.2h-7.2v-7.2h7.2v7.2zm0-10.8h-7.2v-7.2h7.2v7.2zm0-10.9h-7.2V41h7.2v7.2zm0-10.9h-7.2v-7.2h7.2v7.2z',\n    ],\n    '#ef6f2e'\n  ),\n  'audio-playable': new SvgIcon(playIconPaths, '#039', '0 0 48 48'),\n  'video-playable': new SvgIcon(playIconPaths, '#ef6f2e', '0 0 48 48'),\n  'archive': new SvgIcon(\n    [\n      'M72.4 38.5h-7.9v-7.9l7.9 7.9zm-21.3-7.9v28.8h21.4v-19h-9.9v-9.9H51.1zm3.3-7.6H30.8v5.6h9.3l-5.9 4.5v4.8l8.6-6.6v-2.7h30.1v-2.3L54.4 23zM42.9 35.1l-8.6 6.6v4.8l8.6-6.6v-4.8zm-8.7 20l8.6-6.6v-4.8l-8.6 6.6v4.8zm8.7 2v-4.8l-8.6 6.6v2.6h-3.4v5.6h5.3v3.8H33c-.6-1-1.6-1.6-2.8-1.6-1.8 0-3.2 1.4-3.2 3.2s1.4 3.2 3.2 3.2c1.2 0 2.2-.6 2.8-1.6h3.1V77h4.8v-2.9H44c.6 1 1.6 1.6 2.8 1.6 1.8 0 3.2-1.4 3.2-3.2s-1.4-3.2-3.2-3.2c-1.2 0-2.2.6-2.8 1.6h-3.1v-3.8h13.5l18.5-3.3v-2.3H37.1l5.8-4.4z',\n    ],\n    '#ba8322'\n  ),\n  'system': new SvgIcon(\n    [\n      'M73.6 54.8c-2.1-.7-3.4-2.6-3.4-4.8s1.4-4.1 3.4-4.8c.6-.2 1-.9.8-1.5-.6-2.3-1.5-4.4-2.7-6.5-.3-.6-1.1-.8-1.7-.5-.7.4-1.6.6-2.4.6-2.8 0-5-2.3-5-5 0-.8.2-1.7.6-2.4.3-.6.1-1.3-.5-1.7-2-1.2-4.2-2.1-6.5-2.7-.6-.2-1.3.2-1.5.8-.7 2.1-2.6 3.4-4.8 3.4-2.2 0-4.1-1.4-4.8-3.4-.2-.6-.9-1-1.5-.8-2.3.6-4.4 1.5-6.5 2.7-.6.3-.8 1.1-.5 1.7.4.7.6 1.6.6 2.4 0 2.8-2.3 5-5 5-.8 0-1.7-.2-2.4-.6-.6-.3-1.3-.1-1.7.5-1.2 2-2.1 4.2-2.7 6.5-.2.6.2 1.3.8 1.5 2.1.7 3.4 2.6 3.4 4.8s-1.4 4.1-3.4 4.8c-.6.2-1 .9-.8 1.5.6 2.3 1.5 4.4 2.7 6.5.3.6 1.1.8 1.7.5.7-.4 1.6-.6 2.4-.6 2.8 0 5 2.3 5 5 0 .8-.2 1.7-.6 2.4-.3.6-.1 1.3.5 1.7 2 1.2 4.2 2.1 6.5 2.7h.3c.5 0 1-.3 1.2-.9.7-2.1 2.6-3.4 4.8-3.4 2.2 0 4.1 1.4 4.8 3.4.2.6.9 1 1.5.8 2.3-.6 4.4-1.5 6.5-2.7.6-.3.8-1.1.5-1.7-.4-.7-.6-1.6-.6-2.4 0-2.8 2.3-5 5-5 .8 0 1.7.2 2.4.6.6.3 1.3.1 1.7-.5 1.2-2 2.1-4.2 2.7-6.5.2-.5-.1-1.2-.8-1.4zM50 57.6c-4.2 0-7.6-3.4-7.6-7.6 0-4.2 3.4-7.6 7.6-7.6 4.2 0 7.6 3.4 7.6 7.6 0 4.2-3.4 7.6-7.6 7.6z',\n    ],\n    '#999'\n  ),\n  'image': new SvgIcon(\n    [\n      'm 40.400002,35 a 8,8 0 0 1 -8,8 8,8 0 0 1 -8,-8 8,8 0 0 1 8,-8 8,8 0 0 1 8,8 z',\n      'M78.9 47.3l-9.7-9.6L50 57l-9.6-9.7-19.3 19.3V73h57.8z',\n    ],\n    '#5b2d8d'\n  ),\n  'doc': new SvgIcon(\n    [\n      'M29.6 53l-5.9-18.2c-.2-.7-.4-1-.5-1-.1-.1-.2-.1-.4-.2l-2.1-.6-.1-2.6h11l.2 2.6-2.1.6v.2c0 .2.1.7.4 1.2l2.2 7 3.9-11.7 3-.1 3.6 11.7 2.5-7c.1-.5.4-1 .4-1.2v-.1l-1.8-.5-.1-2.7h8.6l.2 2.6-2.3.7c-.1 0-.2.1-.4.1 0 .1-.2.2-.4.9L43 52.8l-3.1.2-3.3-11.2-3.9 11-3.1.2z',\n      'M57.8 30.2h21.7v3.4H57.8zm0 9.2h21.7v3.4H57.8zm0 9.4h21.7v3.4H57.8zm-36.2 9.6h57.9v3.4H21.6zm0 9.4h57.9v3.4H21.6z',\n    ],\n    '#2372ba'\n  ),\n  'executable': new SvgIcon(\n    ['M33.1 29.8l-6.6 6.6L37.2 47 26.5 57.6l6.6 6.6L50.2 47zm18.8 31.1h22.6v9.2H51.9z'],\n    '#333'\n  ),\n  'ebook': new SvgIcon(\n    [\n      'M75.8 45.7c-.3-.6-.7-1.2-1.3-1.6-.1.5-.3 1-.6 1.5L58.3 69.8c-.6.9-1.9 1.1-2.9.8l-25-7c-1.5-.4-3.3-1.3-3.4-3 0-.6 0-.9.4-1.1.3-.3.8-.2 1.1-.1L52 66c3.4 1 4.4.2 6.9-3.5l14.4-22.2c.7-1.2.9-2.5.5-3.6s-1.4-2-2.7-2.4l-20.6-5.7c-.5-.1-1-.1-1.5-.1v-.1c-3.2-1.9-4.4 1.7-6 3-.6.5-1.4.8-1.7 1.3-.2.5-.1 1-.3 1.4-.6 1.4-2.4 3.6-3.3 4.3-.6.4-1.2.5-1.6 1.1-.3.4-.2 1.1-.4 1.6-.5 1.2-2.1 3.3-3.2 4.4-.4.4-1 .6-1.3 1.1-.3.4-.2 1.1-.4 1.6-.7 1.3-2.2 3.2-3.4 4.3-.6.6-1.3.9-1.6 1.5-.1.3 0 .7-.2 1.1-.2.6-.5 1.1-.7 1.7-.7.9-1 2.1-.9 3.4.2 3.1 2.5 6 5.3 6.8l25 7c2.3.6 5.2-.5 6.6-2.5l14.4-22.2c.7-1.1.9-2.4.5-3.6zm-28.9-7.9l1.1-1.6c.3-.4.9-.7 1.4-.5l16.5 4.6c.5.1.7.6.4 1l-1.1 1.6c-.3.4-.9.7-1.4.5l-16.5-4.6c-.5-.2-.7-.6-.4-1zM42.7 44l1.1-1.6c.3-.4.9-.7 1.4-.5l16.5 4.6c.5.1.7.6.4 1L60.9 49c-.3.4-.9.7-1.4.5L43.1 45c-.5-.1-.7-.6-.4-1z',\n    ],\n    '#963'\n  ),\n  'markup': new SvgIcon(\n    [\n      'M21.5 48.3l16.2-14v7.1l-11 9.2v.1l11 9.2V67L21.5 53v-4.7zm30.6-17.6h4.3L48 71.3h-4.2l8.3-40.6zM62.3 60l11-9.2v-.1l-11-9.2v-7.1l16.2 14v4.9l-16.2 14V60z',\n    ] /* no color? */\n  ),\n  'script': new SvgIcon(\n    [\n      'M42.3 44.2h15.4V48H42.3v-3.8zm0 7.7h15.4v3.8H42.3v-3.8zm0 7.7h15.4v3.8H42.3v-3.8zM69.2 25H38.5c-4.2 0-7.7 3.4-7.7 7.7v34.6h-7.7c0 4.2 3.4 7.7 7.7 7.7h30.8c4.2 0 7.7-3.4 7.7-7.7V36.5H77v-3.8c-.1-4.3-3.5-7.7-7.8-7.7zm-3.8 41.6c0 2.5-2 4.5-4.5 4.5H32.7c1.9-1.3 1.9-3.8 1.9-3.8V32.7c0-2.1 1.7-3.8 3.8-3.8s3.8 1.7 3.8 3.8v3.8h23.1v30.1zM46.2 32.7v-3.8h23.1c3.5 0 3.8 2.2 3.8 3.8H46.2z',\n    ] /* no color? */\n  ),\n  'disc': new SvgIcon(\n    [\n      'M46.9 50c0 .8.3 1.6.9 2.2 1.2 1.2 3.2 1.2 4.4 0 .6-.6.9-1.4.9-2.2 0-.8-.3-1.6-.9-2.2-.6-.6-1.4-.9-2.2-.9-.8 0-1.6.3-2.2.9-.6.6-.9 1.4-.9 2.2z',\n      'M32.3 32.3c-9.8 9.8-9.8 25.6 0 35.4 9.8 9.8 25.6 9.8 35.4 0 9.8-9.8 9.8-25.6 0-35.4-9.8-9.7-25.6-9.7-35.4 0zm37 28.2c-.9 1.7-2.1 3.2-3.5 4.6-1.4 1.4-3 2.6-4.6 3.5l-5.8-11.1s.5-.2 1.6-1.2c1.1-1.1 1.3-1.6 1.3-1.6l11 5.8zM54.4 45.6c1.2 1.2 1.8 2.8 1.8 4.4 0 1.6-.6 3.2-1.8 4.4-2.4 2.4-6.4 2.4-8.8 0-1.2-1.2-1.8-2.8-1.8-4.4 0-1.6.6-3.2 1.8-4.4a6.1 6.1 0 0 1 8.8 0zm-8.5-4.4s-1.2.7-2.2 1.8c-.9 1-1 1.2-1.3 1.7l-11-5.9c.9-1.7 2.1-3.2 3.5-4.6 1.4-1.4 3-2.6 4.6-3.5l6.4 10.5z',\n    ],\n    '#c96'\n  ),\n  'text': new SvgIcon(\n    ['M69.4 28.6v5.5H21.5v-5.5M30.6 41h47.9v5.6H30.6zm-9.1 12.4h47.9V59H21.5zm9.1 12.5h47.9v5.6H30.6z'],\n    '#6b533b'\n  ),\n  'database': new SvgIcon(\n    [\n      'M48.1 75.5c-6.5-.3-12.3-2.3-15.4-5.4-.9-.9-1.8-2.1-2.2-2.9l-.3-.5v-6.1c0-6 0-6.1.1-5.6.3 1.3 1.1 2.7 2.3 3.7.8.7 2.5 1.8 3.8 2.5 2.4 1.2 5.2 2 8.4 2.5 1.9.3 2.6.3 5.3.3s3.4 0 5.3-.3c3.1-.5 6-1.3 8.3-2.5 1.4-.7 3-1.7 3.8-2.5 1.1-1 2-2.5 2.3-3.8.1-.5.1-.4.1 5.5v6l-.3.6c-1 1.9-2.6 3.6-4.7 4.8-4.3 2.7-10.5 4-16.8 3.7z',\n      'M48.1 60.4c-5.7-.3-11-1.9-14.3-4.4-.7-.6-1.8-1.6-2.3-2.2-.4-.6-.8-1.2-1.1-1.8l-.3-.5v-6c0-5.9 0-6 .1-5.5.2.9.7 2 1.5 2.9.4.5 1.1 1.2 1.5 1.4.1.1.5.3.7.5 2.7 1.9 6.5 3.3 10.8 3.9 1.9.3 2.6.3 5.3.3s3.4 0 5.3-.3c3.1-.5 6-1.3 8.4-2.5 1.4-.7 3-1.8 3.9-2.5 1.1-1 2-2.4 2.2-3.7.1-.5.1-.4.1 5.5v5.9l-.4.8c-.7 1.2-1.1 1.8-1.9 2.7-.8.8-1.6 1.5-2.7 2.1-4.3 2.4-10.5 3.7-16.8 3.4z',\n      'M47.7 45.4c-3.8-.3-6.8-.9-9.6-2-3.4-1.3-5.8-3.1-7.1-5.2-.3-.4-.5-1-.7-1.6-.2-.6-.3-2-.1-2.7.9-4.3 6.6-7.9 14.5-9 1.9-.3 2.6-.3 5.3-.3s3.4 0 5.3.3c3.1.5 6 1.3 8.4 2.5 3.5 1.7 5.6 4 6.1 6.5.1.7.1 2.1-.1 2.7-.4 1.3-1 2.2-2 3.2-2.8 2.9-7.9 4.9-14.1 5.6-.9-.1-5.1 0-5.9 0z',\n    ],\n    '#a03537'\n  ),\n  'pdf': new SvgIcon(\n    [\n      'M46.2 21.8c-3.5 0-6.3 2.9-6.3 6.3 0 4.3 2.4 9.6 4.9 14.7-2 6.1-4.1 12.7-7 18.2-5.8 2.3-11 4-14 6.6l-.2.2c-1.1 1.2-1.8 2.7-1.8 4.4 0 3.5 2.9 6.3 6.3 6.3 1.7 0 3.4-.6 4.4-1.8 0 0 .2 0 .2-.2 2.3-2.7 5-7.8 7.5-12.2 5.5-2.1 11.5-4.4 16.9-5.8 4.1 3.4 10.1 5.5 15 5.5 3.5 0 6.3-2.9 6.3-6.3 0-3.5-2.9-6.3-6.3-6.3-4 0-9.6 1.4-13.9 2.9-3.5-3.4-6.7-7.5-9.2-11.9C50.6 37 52.6 32 52.6 28c-.2-3.5-2.9-6.2-6.4-6.2zm0 3.6c1.4 0 2.4 1.1 2.4 2.4 0 1.8-1.1 5.3-2.1 9-1.5-3.7-2.9-7.2-2.9-9 .1-1.2 1.2-2.4 2.6-2.4zm1.1 21.5c1.8 3.1 4.1 5.8 6.6 8.2-3.7 1.1-7.3 2.3-11 3.7 1.8-3.8 3.1-7.9 4.4-11.9zM72 55c1.4 0 2.4 1.1 2.4 2.4 0 1.4-1.1 2.4-2.4 2.4-2.9 0-6.9-1.2-10.1-3.1C65.6 56 69.7 55 72 55zM34.6 66.2c-1.8 3.2-3.5 6.1-4.7 7.6-.5.5-.9.6-1.7.6-1.4 0-2.4-1.1-2.4-2.4 0-.6.3-1.4.6-1.7 1.3-1.2 4.5-2.6 8.2-4.1z',\n    ],\n    '#c11e07'\n  ),\n  'sheet': new SvgIcon(\n    [\n      'M62.1 30.9h14.1v9.4H62.1zm0 14.5h14.1v9.4H62.1zm0 14.3h14.1v9.4H62.1zm-19.2 0H57v9.4H42.9zm-19 0H38v9.4H23.9zm19.2-14.2h14.1v9.4H43.1zm-19.2 0H38v9.4H23.9zm19.2-14.6h14.1v9.4H43.1zm-19.2 0H38v9.4H23.9z',\n    ],\n    '#30723f'\n  ),\n  'presentation': new SvgIcon(\n    [\n      'M 73.319289,26.32707 H 26.61477 c -2.335226,0 -4.258353,1.917194 -4.258353,4.245215 v 29.853446 c 0,2.328021 1.923127,4.245215 4.258353,4.245215 h 19.506006 l -1.923128,7.257947 h -2.197859 c -0.961564,0 -1.648395,0.684712 -1.648395,1.643309 0,0.958597 0.686831,1.643309 1.648395,1.643309 h 15.797117 c 0.961563,0 1.648394,-0.684712 1.648394,-1.643309 0,-0.958597 -0.686831,-1.643309 -1.648394,-1.643309 H 55.46168 l -1.923128,-7.39489 h 19.780737 c 2.335226,0 4.258353,-1.917193 4.258353,-4.245214 V 30.572285 c 0,-2.328021 -1.923127,-4.245215 -4.258353,-4.245215 z m 0.412099,34.372546 H 26.202672 V 30.2984 h 47.39135 z',\n      'm 38.428266,48.511741 h 3.846255 v 7.668775 h -3.846255 z m 6.456214,-2.464963 h 3.846254 V 56.180516 H 44.88448 Z m 6.318846,-2.601906 h 3.846255 v 12.735644 h -3.846255 z m 6.318847,-2.464964 h 3.846255 v 15.200608 h -3.846255 z m -0.274732,-5.614639 -6.730946,3.697445 -4.945184,-1.643308 -8.379341,4.519099 1.236296,1.369424 7.417777,-3.834387 4.945185,1.643309 7.692509,-4.245215 1.236296,1.369424 2.88469,-4.792984 -6.593578,0.410827 z',\n    ],\n    '#c24f32'\n  ),\n  'font': new SvgIcon(\n    [\n      'M40.4 56.2H28.7l-1.4 3.1c-.5 1-.7 1.9-.7 2.6 0 .9.4 1.6 1.1 2 .4.3 1.5.4 3.2.6v.9H20v-.9c1.2-.2 2.2-.6 2.9-1.4.8-.8 1.7-2.4 2.8-4.8l11.8-25.6h.5l12 26.2c1.1 2.5 2.1 4.1 2.8 4.7.6.5 1.3.8 2.3.9v.9h-16v-.9h.7c1.3 0 2.2-.2 2.7-.5.4-.3.5-.6.5-1.1 0-.3 0-.6-.1-.9 0-.1-.3-.7-.7-1.8l-1.8-4zm-.8-1.8l-4.9-11-5.1 11h10z',\n      'M80 44.2l-4.7 15.7-.5 1.9c0 .2-.1.4-.1.5 0 .2.1.4.2.5.1.2.3.2.4.2.3 0 .8-.3 1.4-.8.2-.2.8-.9 1.8-2.2l.9.4c-1.2 2-2.4 3.5-3.7 4.5-1.3.9-2.7 1.4-4.2 1.4-.9 0-1.6-.2-2.1-.7-.5-.5-.7-1-.7-1.8 0-.6.3-1.8.8-3.4l.6-1.9c-1.9 3.1-3.7 5.4-5.4 6.7-1 .8-2.1 1.1-3.2 1.1-1.5 0-2.6-.6-3.2-1.8-.7-1.2-1-2.5-1-4 0-2.2.7-4.8 2.1-7.6 1.4-2.9 3.2-5.2 5.5-6.9 1.9-1.4 3.6-2.2 5.3-2.2.9 0 1.6.3 2.2.8.6.5 1 1.4 1.2 2.8l.9-2.9 5.5-.3zm-7.8 4.5c0-1.3-.2-2.2-.6-2.8-.3-.4-.7-.6-1.2-.6s-1 .2-1.6.7c-1.1 1-2.3 3-3.5 5.9-1.3 3-1.9 5.6-1.9 7.7 0 .8.1 1.4.4 1.8.3.4.6.6.9.6.7 0 1.5-.4 2.2-1.2 1.1-1.2 2-2.6 2.9-4.3 1.6-2.9 2.4-5.5 2.4-7.8z',\n    ],\n    '#7291a1'\n  ),\n  'vue': new SvgIcon(\n    [\n      'M 66.425365,28.281905 H 56.751974 L 49.707631,39.427061 43.669624,28.281905 H 21.530262 L 49.707631,76.54823 77.885006,28.281905 Z m -37.888497,4.025337 h 6.767604 L 49.707631,57.239179 64.098226,32.307242 h 6.767597 L 49.707631,68.560446 Z',\n    ],\n    '#41B883'\n  ),\n  'other': new SvgIcon(\n    [\n      'M71 36.3L57.8 23.1c-.4-.4-.9-.6-1.4-.6h-26c-1.1 0-2 .9-2 2v51.1c0 1.1.9 2 2 2h39.3c1.1 0 2-.9 2-2V37.7c-.1-.5-.3-1-.7-1.4zm-3.9 2.3H55.5V27l11.6 11.6zm.1 34.5H32.8V26.9h18.5v13.3c0 1.4 1.2 2.6 2.6 2.6h13.3v30.3z',\n    ] /* no color? */\n  ),\n  // system icons\n  'system-close': new SvgIcon(\n    ['M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'],\n    undefined,\n    '0 0 24 24'\n  ),\n  'system-file-preview-new': new SvgIcon(\n    [\n      'M745,353c-5.6,0-11.3,0.2-17.2,0.7C687.4,237.3,577.8,157,451,157c-162.1,0-294,131.9-294,294c0,2.1,0,4.1,0,6.2C72.6,479,10,555.8,10,647c0,108.1,87.9,196,196,196h245V618.3l-63.4,63.4c-9.6,9.6-22.1,14.4-34.6,14.4s-25.1-4.8-34.6-14.4c-19.2-19.2-19.2-50.1,0-69.3l147-147c4.6-4.6,9.9-8.1,16-10.6c12-4.9,25.5-4.9,37.4,0c6,2.5,11.4,6.1,16,10.6l147,147c19.2,19.2,19.2,50.1,0,69.3c-9.6,9.6-22.1,14.4-34.6,14.4s-25.1-4.8-34.6-14.4L549,618.3V843h196c135.1,0,245-109.9,245-245S880.1,353,745,353z',\n    ],\n    undefined,\n    '0 0 1000 1000'\n  ),\n  // system icons\n  'system-sortable-handle': new SvgIcon(['M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z'], undefined, '0 0 24 24'),\n  'system-file-av-play': new SvgIcon(\n    ['M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z'],\n    undefined,\n    '0 0 48 48'\n  ),\n  // M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z\n  'system-file-name-edit': new SvgIcon(\n    [\n      'M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z',\n    ],\n    undefined,\n    '0 0 24 24'\n  ),\n};\n\nfor (const category in icons) {\n  if (icons.hasOwnProperty(category)) {\n    (icons as any)[category].category = category;\n  }\n}\n\nexport default icons;\n\nexport const extensionsMap: any = {};\n\nfor (const cat in extensions) {\n  if (extensions.hasOwnProperty(cat)) {\n    for (const ext of (extensions as any)[cat]) {\n      extensionsMap[ext] = cat;\n    }\n  }\n}\n\nexport function getIconByName(name: string): SvgIcon {\n  const svgIcon = (icons as any)[name] || icons.other;\n  return svgIcon;\n}\n\nexport function getIconFromExt(ext: string): SvgIcon {\n  ext = ext.toLowerCase();\n  const cat = extensionsMap[ext];\n  return getIconByName(cat);\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"vue\");","<template>\n  <svg :viewBox=\"viewBoxComputed\">\n    <template v-for=\"(d, index) in icon.paths\">\n      <path :d=\"d\" v-if=\"d\" :key=\"index\" />\n    </template>\n  </svg>\n</template>\n<style></style>\n<script lang=\"ts\">\nimport { getIconFromExt, getIconByName, SvgIcon } from '../lib/icons';\nimport Vue from 'vue';\n\nexport default Vue.extend({\n  props: ['ext', 'name', 'viewBox'],\n  computed: {\n    viewBoxComputed(): string {\n      if (!this.viewBox && this.icon && this.icon.viewBox) {\n        return this.icon.viewBox;\n      }\n      return this.viewBox ? this.viewBox : '0 0 100 100';\n    },\n    icon(): SvgIcon {\n      if (this.name) {\n        return getIconByName(this.name);\n      }\n      const svgIcon = getIconFromExt(this.ext);\n      return svgIcon;\n    },\n  },\n});\n</script>\n","import mod from \"-!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue-file-icon.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue-file-icon.vue?vue&type=script&lang=ts\"","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent(\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */,\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options =\n    typeof scriptExports === 'function' ? scriptExports.options : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) {\n    // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n          injectStyles.call(\n            this,\n            (options.functional ? this.parent : this).$root.$options.shadowRoot\n          )\n        }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","import { render, staticRenderFns } from \"./vue-file-icon.vue?vue&type=template&id=2aa77553\"\nimport script from \"./vue-file-icon.vue?vue&type=script&lang=ts\"\nexport * from \"./vue-file-icon.vue?vue&type=script&lang=ts\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:[\n    'file-preview-wrapper-' + _vm.fileRecord.ext(),\n    _vm.fileRecord.isImage() ? 'file-preview-wrapper-image' : 'file-preview-wrapper-other',\n    'file-category-' + _vm.fileRecord.icon().category,\n    { 'file-is-playing-av': _vm.fileRecord.isPlayingAv },\n    { 'is-deletable': _vm.deletable === true },\n    { 'is-editable': _vm.editable === true },\n    { 'is-edit-input-focused': _vm.isEditInputFocused },\n    { 'has-error': _vm.fileRecord.error },\n  ]},[(_vm.fileRecord.isPlayableAudio() || _vm.fileRecord.isPlayableVideo())?_c('div',{ref:\"wrapper\",staticClass:\"file-av-wrapper\"},[_c('div',{staticClass:\"file-av-action\",on:{\"click\":function($event){return _vm.playAv(_vm.fileRecord)}}},[_c('span',{staticClass:\"file-av-stop\"},[_c('VueFileIcon',{attrs:{\"name\":\"system-close\"}})],1),_c('span',{staticClass:\"file-av-play\"},[_c('VueFileIcon',{attrs:{\"name\":\"system-file-av-play\"}})],1)])]):_vm._e(),_c('span',{staticClass:\"file-preview\",class:{\n      'image-preview': _vm.fileRecord.isImage(),\n      'other-preview': !_vm.fileRecord.isImage(),\n      'dark-content': _vm.fileRecord.isImage() && _vm.fileRecord.isDarkColor(),\n    },style:({\n      'background-color': _vm.fileRecord.color(),\n    })},[(_vm.fileRecord.error)?_c('span',{staticClass:\"file-error-wrapper\",on:{\"click\":function($event){return _vm.dismissError()}}},[_c('span',{staticClass:\"file-error-message file-error-message-client\"},[_vm._v(\" \"+_vm._s(_vm.fileRecord.getErrorMessage(_vm.errorText))+\" \")])]):_vm._e(),_c('span',{staticClass:\"file-preview-overlay\"}),(_vm.fileRecord.isImage() || _vm.fileRecord.isPlayableVideo())?_c('span',{staticClass:\"thumbnail\",staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"right\":\"0\",\"bottom\":\"0\",\"left\":\"0\",\"overflow\":\"hidden\"}},[(_vm.hasLinkableUrl)?_c('a',{attrs:{\"href\":_vm.fileRecord.url(),\"target\":\"_blank\",\"title\":_vm.fileRecord.name()}},[_c('img',{staticClass:\"file-preview-img\",attrs:{\"src\":_vm.fileRecord.src()}})]):_c('img',{staticClass:\"file-preview-img\",attrs:{\"src\":_vm.fileRecord.src()}})]):_vm._e(),_c('span',{staticClass:\"file-ext\"},[_vm._v(_vm._s(_vm.fileRecord.ext()))]),_c('span',{staticClass:\"file-size\"},[_vm._v(_vm._s(_vm.fileRecord.size()))]),(_vm.deletable)?_c('span',{staticClass:\"file-delete\",on:{\"click\":function($event){return _vm.removeFileRecord(_vm.fileRecord)},\"touchstart\":function($event){return _vm.filenameClearPressed()},\"mousedown\":function($event){return _vm.filenameClearPressed()}}},[_c('VueFileIcon',{attrs:{\"name\":\"system-close\"}})],1):_vm._e(),_c('span',{staticClass:\"file-name\",on:{\"click\":function($event){return _vm.editFileName()}}},[(_vm.editable === true)?_c('input',{ref:\"input\",staticClass:\"file-name-input\",attrs:{\"disabled\":_vm.disabled === true,\"type\":\"text\"},domProps:{\"value\":_vm.fileRecord.name(true)},on:{\"focus\":function($event){return _vm.editInputFocused()},\"blur\":function($event){return _vm.editInputBlured()},\"change\":function($event){return _vm.filenameChanged()},\"input\":function($event){return _vm.filenameChanged()},\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.filenameChanged(true)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.filenameChanged(false)}]}}):_vm._e(),(_vm.editable === true)?_c('span',{staticClass:\"file-name-edit-icon\"},[_c('VueFileIcon',{attrs:{\"name\":\"system-file-name-edit\"}})],1):_vm._e(),_c('span',{staticClass:\"file-name-text\"},[_vm._v(_vm._s(_vm.fileRecord.name(true)))])]),(_vm.fileRecord.dimensions.width && _vm.fileRecord.dimensions.height)?_c('span',{staticClass:\"image-dimension\"},[_c('span',{staticClass:\"image-dimension-width\"},[_vm._v(_vm._s(_vm.fileRecord.dimensions.width))]),_c('span',{staticClass:\"image-dimension-height\"},[_vm._v(_vm._s(_vm.fileRecord.dimensions.height))])]):_vm._e(),(_vm.fileRecord.hasProgress())?_c('span',{staticClass:\"file-progress\",class:{\n        'file-progress-full': _vm.fileRecord.progress() >= 99.9999,\n        'file-progress-done': _vm.fileRecord.progress() >= 100,\n        'has-file-progress': _vm.fileRecord.progress() > 0,\n      }},[_c('span',{staticClass:\"file-progress-bar\",style:({ width: _vm.fileRecord.progress() + '%' })})]):_vm._e(),_c('span',{staticClass:\"file-icon\"},[(_vm.hasLinkableUrl)?_c('a',{attrs:{\"href\":_vm.fileRecord.url(),\"target\":\"_blank\",\"title\":_vm.fileRecord.name()}},[_c('VueFileIcon',{attrs:{\"ext\":_vm.fileRecord.ext()}})],1):_c('VueFileIcon',{attrs:{\"ext\":_vm.fileRecord.ext()}})],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function getFilesFromDroppedItems(dataTransfer: DataTransfer): Promise<File[] | FileList> {\n  return new Promise((resolve) => {\n    if (!includesFolder(dataTransfer)) {\n      return resolve(dataTransfer.files);\n    }\n    const files: File[] = [];\n    const folderReadQueue = [];\n    // tslint:disable-next-line\n    for (let i = 0; i < dataTransfer.items.length; i++) {\n      const item = dataTransfer.items[i];\n      if (item.kind !== 'file') {\n        continue;\n      }\n      const fileSystemEntries = getEntries(item);\n      if (fileSystemEntries) {\n        folderReadQueue.push(fileSystemEntries);\n      } else {\n        const file = item.getAsFile();\n        if (file) {\n          files.push(file);\n        }\n      }\n    }\n    Promise.all(folderReadQueue).then((filesInFolders) => {\n      resolve(files.concat(...filesInFolders));\n    });\n  });\n}\n\nfunction getEntries(entry: any): Promise<File[]> | undefined {\n  // convert DataTransferItem to FileSystemEntry first if necessary\n  if (entry.getAsEntry) {\n    return getEntries(entry.getAsEntry());\n  }\n  if (entry.webkitGetAsEntry) {\n    return getEntries(entry.webkitGetAsEntry());\n  }\n  // return if item is from a browser that does not support webkitGetAsEntry\n  if (entry.getAsFile) {\n    return;\n  }\n  // Processing directories with more than 100 files:\n  // https://github.com/lian-yue/vue-upload-component/commit/9c9d8aafbcef005a2cc598454383ec65205d61ee\n  return new Promise((resolve) => {\n    if (entry.isFile) {\n      entry.file((file: File) => resolve([file]));\n      return;\n    }\n    if (entry.isDirectory) {\n      const files: File[] = [];\n      const entryReader = entry.createReader();\n      const readEntries = () => {\n        entryReader.readEntries((entries: any[]) => {\n          const iterateEntry = (i: number) => {\n            if (!entries[i] && i === 0) {\n              return resolve(files);\n            }\n            if (!entries[i]) {\n              return readEntries();\n            }\n            (getEntries(entries[i]) as Promise<File[]>).then((entryFiles: File[]) => {\n              files.push(...entryFiles);\n              iterateEntry(i + 1);\n            });\n          };\n          iterateEntry(0);\n        });\n      };\n      readEntries();\n    }\n    if (!entry.isFile && !entry.isDirectory) {\n      resolve([]);\n    }\n  });\n}\n\nfunction includesFolder(transfer: DataTransfer): boolean {\n  if (!transfer.files.length) {\n    return true; // if dropping only folders, no files will exist\n  }\n\n  // Loop through the dropped items and log their data\n  for (const item of transfer.items) {\n    if (item.webkitGetAsEntry != null) {\n      const entry = item.webkitGetAsEntry();\n\n      if (entry && entry.isDirectory) {\n        return true;\n      }\n    }\n  }\n\n  const files: FileList = transfer.files;\n\n  // tslint:disable-next-line\n  for (let i = 0; i < files.length; i++) {\n    // A folder has no type and has a size that is a multiple of 4096\n    if (!files[i].type && files[i].size % 4096 === 0) {\n      return true;\n    }\n  }\n  return false;\n}\n","import { getFilesFromDroppedItems } from './drop-handler';\n\nexport type RGBA = [number, number, number, number];\nexport interface VideoThumbnail {\n  url: string;\n  color?: RGBA;\n  width: number;\n  height: number;\n}\nexport interface ImageThumbnail {\n  image: HTMLImageElement;\n  url: string;\n  color?: RGBA;\n}\n\nenum ImageOrientation {\n  NORMAL = 1,\n  UPSIDE_DOWN = 6,\n}\n\nclass Utils {\n  public arrayMove(arr: any[], previousIndex: number, newIndex: number): any[] {\n    // https://github.com/Jexordexan/vue-slicksort/blob/master/src/utils.js\n    const array = arr.slice(0);\n    if (newIndex >= array.length) {\n      let k = newIndex - array.length;\n      while (k-- + 1) {\n        array.push(undefined);\n      }\n    }\n    array.splice(newIndex, 0, array.splice(previousIndex, 1)[0]);\n    return array;\n  }\n\n  public getAverageColor(arr: Uint8ClampedArray): RGBA | undefined {\n    const bytesPerPixel = 4;\n    const arrLength = arr.length;\n    if (arrLength < bytesPerPixel) {\n      return;\n    }\n    const step = 5;\n    const len = arrLength - (arrLength % bytesPerPixel);\n    const preparedStep = (step || 1) * bytesPerPixel;\n\n    let redTotal = 0;\n    let greenTotal = 0;\n    let blueTotal = 0;\n    let alphaTotal = 0;\n    let count = 0;\n\n    for (let i = 0; i < len; i += preparedStep) {\n      const alpha = arr[i + 3];\n      const red = arr[i] * alpha;\n      const green = arr[i + 1] * alpha;\n      const blue = arr[i + 2] * alpha;\n\n      redTotal += red;\n      greenTotal += green;\n      blueTotal += blue;\n      alphaTotal += alpha;\n      count++;\n    }\n\n    return alphaTotal\n      ? [\n          Math.round(redTotal / alphaTotal),\n          Math.round(greenTotal / alphaTotal),\n          Math.round(blueTotal / alphaTotal),\n          Math.round(alphaTotal / count),\n        ]\n      : [0, 0, 0, 0];\n  }\n\n  public createVideoThumbnail(\n    video: HTMLVideoElement,\n    canvas: HTMLCanvasElement,\n    thumbnailSize: number,\n    calculateAverageColor?: boolean,\n    withCredentials?: boolean\n  ): Promise<VideoThumbnail> {\n    if (withCredentials) {\n    }\n    video.setAttribute('crossOrigin', withCredentials ? 'use-credentials' : 'anonymous'); // fix cross origin issue\n    return new Promise((resolve, reject) => {\n      let loadedmetadata = false;\n      let loadeddata = false;\n      const tryGetThumbnail = () => {\n        if (!(loadedmetadata && loadeddata)) {\n          return;\n        }\n        const context = canvas.getContext('2d') as CanvasRenderingContext2D;\n        context.drawImage(video, 0, 0, canvas.width, canvas.height);\n        let color: RGBA | undefined;\n        if (calculateAverageColor) {\n          const imageData = context.getImageData(0, 0, canvas.width, canvas.height);\n          color = this.getAverageColor(imageData.data);\n        }\n        const url = canvas.toDataURL();\n        resolve({\n          url,\n          color,\n          width: video.videoWidth,\n          height: video.videoHeight,\n        });\n      };\n      // Load metadata of the video to get video duration and dimensions\n      video.addEventListener('loadedmetadata', () => {\n        // var video_duration = video.duration;\n        canvas.width = thumbnailSize;\n        canvas.height = (canvas.width / video.videoWidth) * video.videoHeight;\n        video.currentTime = 1; // video time\n        loadedmetadata = true;\n        tryGetThumbnail();\n      });\n\n      video.addEventListener('loadeddata', () => {\n        loadeddata = true;\n        tryGetThumbnail();\n      });\n    });\n  }\n\n  public getDataURL(file: File): Promise<string> {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = (event) => {\n        if (!(event.target && event.target.result)) {\n          return resolve('');\n        }\n        resolve(event.target.result as string);\n      };\n      reader.readAsDataURL(file);\n    });\n  }\n\n  public getImageOrientationFromArrayBuffer(buffer: ArrayBuffer): number {\n    // -2: not jpeg\n    // -1: not defined\n    const view = new DataView(buffer);\n    if (view.getUint16(0, false) !== 0xffd8) {\n      return -2;\n    }\n    const length = view.byteLength;\n    let offset = 2;\n    while (offset < length) {\n      if (view.getUint16(offset + 2, false) <= 8) {\n        return -1;\n      }\n      const marker = view.getUint16(offset, false);\n      offset += 2;\n      if (marker === 0xffe1) {\n        if (view.getUint32((offset += 2), false) !== 0x45786966) {\n          return -1;\n        }\n        const little = view.getUint16((offset += 6), false) === 0x4949;\n        offset += view.getUint32(offset + 4, little);\n        const tags = view.getUint16(offset, little);\n        offset += 2;\n        for (let i = 0; i < tags; i++) {\n          if (view.getUint16(offset + i * 12, little) === 0x0112) {\n            return view.getUint16(offset + i * 12 + 8, little);\n          }\n        }\n        // tslint:disable-next-line\n      } else if ((marker & 0xff00) !== 0xff00) {\n        break;\n      } else {\n        offset += view.getUint16(offset, false);\n      }\n    }\n    return -1;\n  }\n\n  public getImageOrientation(file: File): Promise<number> {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      if (!reader.readAsArrayBuffer) {\n        return resolve(-3);\n      }\n      reader.onload = (event) => {\n        if (!(event.target && event.target.result)) {\n          return resolve(-3);\n        }\n        resolve(this.getImageOrientationFromArrayBuffer(event.target.result as ArrayBuffer));\n      };\n      // https://stackoverflow.com/questions/3248946/what-is-the-maximum-size-of-jpeg-metadata\n      // https://twitter.com/jaffathecake/status/1085443592678752256\n      // reader.readAsArrayBuffer(file);\n      reader.readAsArrayBuffer(file.slice(0, 65536));\n    });\n  }\n\n  public rotateCanvas(\n    srcOrientation: number,\n    canvas: HTMLCanvasElement,\n    ctx: CanvasRenderingContext2D,\n    width: number,\n    height: number\n  ) {\n    // set proper canvas dimensions before transform & export\n    if (4 < srcOrientation && srcOrientation < 9) {\n      canvas.width = height;\n      canvas.height = width;\n    } else {\n      canvas.width = width;\n      canvas.height = height;\n    }\n\n    // transform context before drawing image\n    switch (srcOrientation) {\n      case 2:\n        ctx.transform(-1, 0, 0, 1, width, 0);\n        break;\n      case 3:\n        ctx.transform(-1, 0, 0, -1, width, height);\n        break;\n      case 4:\n        ctx.transform(1, 0, 0, -1, 0, height);\n        break;\n      case 5:\n        ctx.transform(0, 1, 1, 0, 0, 0);\n        break;\n      case 6:\n        ctx.transform(0, 1, -1, 0, height, 0);\n        break;\n      case 7:\n        ctx.transform(0, -1, -1, 0, height, width);\n        break;\n      case 8:\n        ctx.transform(0, -1, 1, 0, 0, width);\n        break;\n      default:\n        break;\n    }\n  }\n\n  public getImageResized(\n    image: HTMLImageElement,\n    widthLimit: number,\n    heightLimit?: number,\n    orientation?: number,\n    calculateAverageColor?: boolean\n  ): ImageThumbnail | null {\n    let width = image.width;\n    let height = image.height;\n    const thumbnailSize = widthLimit;\n    if (widthLimit && heightLimit) {\n      width = widthLimit;\n      height = heightLimit;\n    } else {\n      if (width > height) {\n        if (width > thumbnailSize) {\n          height *= thumbnailSize / width;\n          width = thumbnailSize;\n        }\n      } else {\n        if (height > thumbnailSize) {\n          width *= thumbnailSize / height;\n          height = thumbnailSize;\n        }\n      }\n    }\n\n    width = Math.floor(width);\n    height = Math.floor(height);\n\n    const canvas = document.createElement('canvas');\n    const context = canvas.getContext('2d');\n    if (!context) {\n      return null;\n    }\n\n    canvas.width = width;\n    canvas.height = height;\n\n    if (orientation !== undefined) {\n      this.rotateCanvas(orientation, canvas, context, width, height);\n    }\n\n    context.drawImage(image, 0, 0, width, height);\n    let avgColor = null;\n    try {\n      let rgba: RGBA | undefined;\n      if (calculateAverageColor) {\n        const imageData = context.getImageData(0, 0, width, height);\n        rgba = this.getAverageColor(imageData.data);\n      }\n      if (rgba) {\n        avgColor = rgba;\n      }\n    } catch (e) {\n      /* security error, img on diff domain */\n    }\n    return {\n      image,\n      url: canvas.toDataURL('image/png'),\n      color: avgColor,\n    } as ImageThumbnail;\n  }\n\n  public resizeImageUrl(\n    image: HTMLImageElement,\n    url: string,\n    thumbnailSize: number,\n    calculateAverageColor?: boolean\n  ): Promise<ImageThumbnail | null> {\n    return new Promise((resolve, reject) => {\n      image.onload = () => {\n        if (!calculateAverageColor) {\n          resolve({\n            image,\n            url,\n            color: undefined,\n          } as ImageThumbnail);\n          return;\n        }\n        const resized = this.getImageResized(image, thumbnailSize, undefined, undefined, calculateAverageColor);\n        if (resized) {\n          resized.url = url;\n        }\n        resolve(resized);\n      };\n      image.onerror = () => {\n        reject('Image loading failed: ' + url);\n      };\n      image.src = url;\n    });\n  }\n\n  public resizeImageFile(\n    image: HTMLImageElement,\n    file: File,\n    thumbnailSize: number,\n    calculateAverageColor?: boolean\n  ): Promise<ImageThumbnail | null> {\n    return new Promise((resolve, reject) => {\n      if (file.type.indexOf('image') === -1) {\n        reject(new Error('Not an image'));\n        return;\n      }\n      const createObjectURL = (window.URL || window.webkitURL || {}).createObjectURL;\n      const revokeObjectURL = (window.URL || window.webkitURL || {}).revokeObjectURL;\n      let shouldRevoke = false;\n      const orientationPromise = this.getImageOrientation(file);\n      image.onload = () => {\n        orientationPromise.then((orientation) => {\n          const resized = this.getImageResized(image, thumbnailSize, undefined, orientation, calculateAverageColor);\n          if (shouldRevoke) {\n            revokeObjectURL(image.src);\n          }\n          resolve(resized);\n        });\n      };\n      if (!(file instanceof File)) {\n        return reject('Invalid file object. Use url or a valid instance of File class');\n      }\n      if (createObjectURL && !!revokeObjectURL) {\n        shouldRevoke = true;\n        image.src = createObjectURL(file);\n        return;\n      }\n      this.getDataURL(file).then((dataUrl) => {\n        image.src = dataUrl;\n      });\n    });\n  }\n\n  public resizeImage(\n    thumbnailSize: number,\n    file?: File,\n    url?: string,\n    calculateAverageColor?: boolean,\n    withCredentials?: boolean\n  ): Promise<ImageThumbnail | null> {\n    const image = new Image();\n    image.setAttribute('crossOrigin', withCredentials ? 'use-credentials' : 'anonymous');\n    // FLAG: tif/tiff is not supported by most modern browsers\n    if (file?.type.includes('image/tif')) {\n      return Promise.reject(new Error('Unsupported image format for thumbnail preview'));\n    }\n    return url\n      ? this.resizeImageUrl(image, url, thumbnailSize, calculateAverageColor)\n      : this.resizeImageFile(image, file as File, thumbnailSize, calculateAverageColor);\n  }\n\n  public getSizeFormatted(bytes: number) {\n    const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];\n    if (bytes === 0) {\n      return '0 B';\n    }\n    let i = Math.floor(Math.log(bytes) / Math.log(1024));\n    i = parseInt('' + i, 10);\n    return Math.round(bytes / Math.pow(1024, i)) + ' ' + sizes[i];\n  }\n\n  public getSizeParsed(size: string): number {\n    size = ('' + size).toUpperCase();\n    const matches = size.match(/([\\d|.]+?)\\s*?([A-Z]+)/);\n    const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];\n    if (!matches) {\n      return parseFloat(size);\n    }\n    const i = sizes.indexOf(matches[2]);\n    if (i === -1) {\n      return parseFloat(size);\n    }\n    return parseFloat(matches[1]) * Math.pow(1024, i);\n  }\n\n  public getColorForText(text: string): string {\n    const getHashCode = (value: string) => {\n      let hash = 0;\n      if (value.length === 0) {\n        return hash;\n      }\n      for (let i = 0; i < value.length; i++) {\n        // tslint:disable-next-line\n        hash = value.charCodeAt(i) + ((hash << 5) - hash);\n        // tslint:disable-next-line\n        hash = hash & hash; // Convert to 32bit integer\n      }\n      return hash;\n    };\n    const intToHSL = (value: number) => {\n      const h = value % 360;\n      const s = value % 100;\n      const l = 50;\n      return 'hsl(' + h + ',' + s + '%,' + l + '%, 0.75)';\n    };\n    return intToHSL(getHashCode(text.toLowerCase()));\n  }\n\n  public validateType(file: File, accept?: string): boolean {\n    // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#accept\n    // https://gitlab.com/meno/dropzone/blob/master/src/dropzone.js#L2511\n    if (!accept) {\n      return true;\n    } // If there are no accepted mime types, it's OK\n    const acceptedFiles = accept.split(',');\n\n    const mimeType = file.type;\n    const baseMimeType = mimeType.replace(/\\/.*$/, '');\n\n    for (let validType of acceptedFiles) {\n      validType = validType.trim();\n      if (validType.charAt(0) === '.') {\n        // extension\n        if (file.name.toLowerCase().indexOf(validType.toLowerCase(), file.name.length - validType.length) !== -1) {\n          return true;\n        }\n      } else if (/\\/\\*$/.test(validType)) {\n        // This is something like a image/* mime type\n        if (baseMimeType === validType.replace(/\\/.*$/, '')) {\n          return true;\n        }\n      } else {\n        if (mimeType === validType) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  public validateSize(file: File, maxSize?: string): boolean {\n    if (!maxSize) {\n      return true;\n    }\n    const bytes = this.getSizeParsed(maxSize);\n    return file.size <= bytes;\n  }\n\n  public getFilesFromDroppedItems(dataTransfer: DataTransfer) {\n    return getFilesFromDroppedItems(dataTransfer);\n  }\n}\n\nexport default new Utils();\n","import { getIconFromExt, SvgIcon } from './icons';\nimport utils from './utils';\nimport { RGBA, ImageThumbnail, VideoThumbnail } from './utils';\n\ninterface Dimensions {\n  height: number;\n  width: number;\n}\n\ninterface Options {\n  accept?: string;\n  maxSize?: string;\n  read: boolean;\n  thumbnailSize?: number;\n  averageColor?: boolean;\n  withCredentials?: boolean;\n}\n\ninterface ErrorText {\n  common?: string;\n  type?: string;\n  size?: string;\n  upload?: string;\n}\n\ninterface ErrorFlags {\n  common?: boolean;\n  type?: boolean;\n  size?: boolean;\n  upload?: false | string;\n}\n\ninterface RawFileRecord {\n  url: string | ((value?: string) => string | undefined | Promise<FileRecord>);\n  urlResized: string | null;\n  src: () => any;\n  name: any;\n  lastModified: number;\n  sizeText: string;\n  size: number;\n  type: string;\n  ext: string;\n  color: string;\n  file: File;\n  progress: number | ((progress?: number) => number | void);\n  error?: false | ErrorFlags;\n  dimensions: Dimensions;\n  videoThumbnail: string;\n  imageColor: RGBA;\n  customName: string;\n  upload: UploadData;\n}\n\ninterface DummyFile {\n  name: string;\n  size: number;\n  type: string;\n  lastModified: number;\n  lastModifiedDate: Date;\n}\n\ninterface UploadData {\n  data: any;\n  error: string | false;\n}\n\nexport { Dimensions, Options, RawFileRecord };\n\nclass FileRecord {\n  public static getFromRaw(\n    rawFileRecord: RawFileRecord,\n    options: Options,\n    isSync = false\n  ): FileRecord | Promise<FileRecord> {\n    const fileRecord = new FileRecord(rawFileRecord, options);\n    const promise = fileRecord.setUrl(rawFileRecord.url as string);\n    rawFileRecord.progress = fileRecord.progress.bind(fileRecord); // convert it as a function\n    rawFileRecord.src = fileRecord.src.bind(fileRecord);\n    rawFileRecord.name = fileRecord.name.bind(fileRecord); // convert it as a function\n    if (isSync) {\n      return fileRecord;\n    }\n    return promise;\n  }\n\n  public static fromRaw(rawFileRecord: RawFileRecord, options: Options): Promise<FileRecord> {\n    return FileRecord.getFromRaw(rawFileRecord, options, false) as Promise<FileRecord>;\n  }\n\n  public static fromRawSync(rawFileRecord: RawFileRecord, options: Options): FileRecord {\n    return FileRecord.getFromRaw(rawFileRecord, options, true) as FileRecord;\n  }\n\n  public static fromRawArray(rawFileRecords: RawFileRecord[], options: Options): Promise<FileRecord[]> {\n    const promises: Array<Promise<FileRecord>> = [];\n    for (const rawFileRecord of rawFileRecords) {\n      promises.push(FileRecord.fromRaw(rawFileRecord, options));\n    }\n    return Promise.all(promises);\n  }\n\n  public static toRawArray(fileRecords: FileRecord[]): RawFileRecord[] {\n    const rawFileRecords: RawFileRecord[] = [];\n    for (const fileRecord of fileRecords) {\n      rawFileRecords.push(fileRecord.toRaw());\n    }\n    return rawFileRecords;\n  }\n\n  public static readFile(fileRecord: FileRecord): Promise<FileRecord> {\n    return new Promise((resolve, reject) => {\n      if (!fileRecord.read) {\n        fileRecord.setUrl(null).then(\n          () => {\n            resolve(fileRecord);\n          },\n          (err) => {\n            // ignore error\n            resolve(fileRecord);\n          }\n        );\n        return;\n      }\n      utils.getDataURL(fileRecord.file).then((dataUrl) => {\n        fileRecord.setUrl(dataUrl).then(() => {\n          resolve(fileRecord);\n        }, reject);\n      }, reject);\n    });\n  }\n\n  public static readFiles(fileRecords: FileRecord[]): Promise<FileRecord[]> {\n    const promises: Array<Promise<FileRecord>> = [];\n    for (const fileRecord of fileRecords) {\n      promises.push(FileRecord.readFile(fileRecord));\n    }\n    return Promise.all(promises);\n  }\n\n  public urlValue: null | string = null;\n  public urlResized: null | string = null;\n  public image: HTMLImageElement | {} = {};\n  public isPlayingAv: boolean = false;\n\n  public oldFileName: string | null = null;\n  public oldCustomName: string | null = null;\n  public upload: UploadData = { data: null, error: false };\n\n  public raw: RawFileRecord;\n  public progressInternal: number;\n  public accept?: string;\n  public dimensions: Dimensions;\n  public error: false | ErrorFlags;\n  public file: File;\n  public height: undefined | number | string;\n  public width: undefined | number | string;\n  public id: string;\n  public imageColor?: RGBA;\n  public lastKnownSrc: null | string;\n  public maxSize?: string;\n  public options: Options;\n  public read: boolean;\n  public thumbnailSize: number;\n  public videoThumbnail: any;\n  public customName: any;\n  public xhr?: XMLHttpRequest;\n  public xhrQueue?: () => any;\n  public stopAv?: (() => any) | null;\n  public tusUpload?: any;\n  public calculateAverageColor: boolean;\n\n  public constructor(data: RawFileRecord, options: Options) {\n    this.urlValue = null;\n    this.urlResized = null;\n    this.lastKnownSrc = null;\n    this.image = {};\n    this.isPlayingAv = false;\n    this.oldFileName = null;\n    this.oldCustomName = null;\n\n    this.raw = data;\n    this.file = data.file instanceof File ? data.file : (this.createDummyFile(data) as any);\n    this.progressInternal = !isNaN(data.progress as number) ? (data.progress as number) : 0;\n    // this.width = FileRecord.defaultWidth;\n    // this.height = FileRecord.defaultHeight;\n    this.thumbnailSize = options.thumbnailSize || 360;\n    this.read = !!options.read;\n    this.dimensions = data.dimensions || { width: 0, height: 0 };\n    this.dimensions.width = this.dimensions.width || 0;\n    this.dimensions.height = this.dimensions.height || 0;\n    this.error = data.error || false;\n    this.options = options;\n    this.maxSize = options.maxSize;\n    this.accept = options.accept;\n    this.id = Math.random() + ':' + new Date().getTime();\n    this.videoThumbnail = data.videoThumbnail;\n    this.imageColor = data.imageColor;\n    this.customName = data.customName;\n    this.calculateAverageColor = options.averageColor !== undefined ? options.averageColor : true;\n    this.validate();\n  }\n\n  // populate(data, options = {}) {}\n\n  public createDummyFile(data: RawFileRecord): DummyFile {\n    const file: DummyFile = {} as DummyFile;\n    file.lastModified = data.lastModified;\n    const d = new Date();\n    if (file.lastModified) {\n      d.setTime(file.lastModified);\n    }\n    file.lastModifiedDate = d;\n    file.name = typeof data.name === 'function' ? data.name() : data.name;\n    file.size = data.size;\n    file.type = data.type;\n    return file;\n  }\n\n  public hasProgress(): boolean {\n    return !isNaN(this.progressInternal); // && this._progress <= 100;\n  }\n\n  public progress(value?: number): number | void {\n    if (value !== undefined) {\n      this.progressInternal = value;\n      return;\n    }\n    return this.progressInternal || 0;\n  }\n\n  public url(value?: string): string | undefined | Promise<this> {\n    if (value !== undefined) {\n      return this.setUrl(value);\n    }\n    return this.urlValue || undefined;\n  }\n\n  public src(): string {\n    if (this.isImage()) {\n      return this.urlResized || this.urlValue || (this.file as any).url;\n    }\n    if (this.isPlayableVideo()) {\n      return this.videoThumbnail || '';\n    }\n    return '';\n  }\n\n  public size(): string {\n    if (!this.file) {\n      return '';\n    }\n    return utils.getSizeFormatted(this.file.size);\n  }\n\n  public ext(): string {\n    if (this.file && this.file.name.indexOf('.') !== -1) {\n      return (this.file.name as any).split('.').pop();\n    }\n    return '?';\n    // return this.file.type.split('/').shift();\n  }\n\n  public name(withoutExt?: boolean): string {\n    const ext = this.ext();\n    if (this.customName) {\n      return this.customName + (withoutExt ? '' : ext !== '?' ? '.' + ext : '');\n    }\n    const name = this.file && this.file.name;\n    if (withoutExt) {\n      if (ext !== '?') {\n        return name.substr(0, name.length - (ext.length + 1));\n      }\n    }\n    return name;\n  }\n\n  public isDarkColor(): boolean {\n    if (this.imageColor) {\n      const rgb = this.imageColor;\n      const darkPoint = 20;\n      return rgb[0] <= darkPoint && rgb[1] <= darkPoint && rgb[2] <= darkPoint;\n    }\n    return false;\n  }\n\n  public color(): string {\n    if (this.imageColor) {\n      const rgb = this.imageColor;\n      return 'rgb(' + rgb[0] + ', ' + rgb[1] + ', ' + rgb[2] + ')';\n    }\n    if (this.isImage()) {\n      return 'transparent';\n    }\n    const ext = this.ext();\n    const svgIcon = this.icon();\n    // var svgIcon = getIconFromExt(ext);\n    if (svgIcon.color) {\n      return svgIcon.color;\n    }\n    return utils.getColorForText(ext);\n  }\n\n  public isImage(): boolean {\n    return this.file && !!this.file.type.match(/image((?!vnd).)*$/i);\n  }\n\n  public isVideo(): boolean {\n    return this.file && this.file.type.indexOf('video') !== -1;\n  }\n\n  public isPlayableVideo(): boolean {\n    return this.icon().category === 'video-playable';\n  }\n\n  public isAudio(): boolean {\n    return this.file && this.file.type.indexOf('audio') !== -1;\n  }\n\n  public isPlayableAudio(): boolean {\n    return this.icon().category === 'audio-playable';\n  }\n\n  public isText(): boolean {\n    return this.file && this.file.type.indexOf('text') !== -1;\n  }\n\n  public setUrl(url: string | null): Promise<this> {\n    this.urlValue = url;\n    return new Promise((resolve, reject) => {\n      if (this.isImage()) {\n        this.resizeImage().then(\n          () => {\n            resolve(this);\n          },\n          (err) => {\n            resolve(this);\n          }\n        );\n        return;\n      }\n      resolve(this);\n    });\n  }\n\n  public imageResized(resized: ImageThumbnail | null) {\n    if (!resized) {\n      return;\n    }\n    this.urlResized = resized.url;\n    this.image = resized.image;\n    if (resized.image && resized.image.width && resized.image.height) {\n      this.dimensions.width = resized.image.width;\n      this.dimensions.height = resized.image.height;\n    }\n    this.lastKnownSrc = this.urlResized;\n    this.imageColor = resized.color;\n  }\n\n  public resizeImage(): Promise<this> {\n    return new Promise((resolve, reject) => {\n      utils\n        .resizeImage(this.thumbnailSize, this.file, this.urlValue as string, this.calculateAverageColor)\n        .then((resized) => {\n          this.imageResized(resized);\n          resolve(this);\n        })\n        .catch(reject);\n    });\n  }\n\n  public icon(): SvgIcon {\n    const ext = this.ext();\n    const svgIcon = getIconFromExt(ext);\n    return svgIcon;\n  }\n\n  public getErrorMessage(errorText?: ErrorText): string {\n    const error = this.error;\n    if (!error) {\n      return '';\n    }\n    errorText = errorText || {};\n    errorText = {\n      common: errorText.common || 'Invalid file.',\n      type: errorText.type || 'Invalid file type.',\n      size: errorText.size || 'Files should not exceed ' + this.maxSize + ' in size',\n    };\n    if (error.type) {\n      return errorText.type as string;\n    } else if (error.size) {\n      return errorText.size as string;\n    } else if (error.upload) {\n      return this.upload.error ? this.upload.error : error.upload;\n    }\n    return errorText.common as string;\n  }\n\n  public toRaw(): RawFileRecord {\n    const raw = this.raw || ({} as RawFileRecord);\n    // raw.url = this.urlValue;\n    raw.url = this.url.bind(this);\n    raw.urlResized = this.urlResized;\n    raw.src = this.src.bind(this);\n    raw.name = this.name.bind(this);\n    raw.lastModified = this.file.lastModified;\n    raw.sizeText = this.size();\n    raw.size = this.file.size;\n    raw.type = this.file.type;\n    raw.ext = this.ext();\n    raw.color = this.color();\n    raw.file = this.file;\n    raw.progress = this.progress.bind(this); // pass it as a function\n    raw.upload = this.upload;\n    if (!('error' in raw)) {\n      Object.defineProperty(raw, 'error', {\n        get: () => {\n          return this.error;\n        },\n      });\n    }\n    raw.dimensions = this.dimensions;\n    return raw;\n  }\n\n  public validate(): void {\n    const validType = utils.validateType(this.file, this.accept);\n    const validSize = utils.validateSize(this.file, this.maxSize as string);\n    if (!validType || !validSize) {\n      this.error = {\n        type: !validType,\n        size: !validSize,\n      };\n    } else {\n      this.error = false;\n    }\n  }\n}\n\nexport default FileRecord;\n","import utils from '../lib/utils';\nimport VueFileIcon from './vue-file-icon.vue';\nimport FileRecord, { RawFileRecord, Options } from '../lib/file-record';\nimport Vue from 'vue';\n\nexport default Vue.extend({\n  props: [\n    'value',\n    'deletable',\n    'editable',\n    'linkable',\n    'errorText',\n    'disabled',\n    'thumbnailSize',\n    'averageColor',\n    'withCredentials',\n  ],\n  components: {\n    VueFileIcon,\n  },\n  data() {\n    return {\n      isEditInputFocused: false,\n      isEditCancelable: true,\n      fileRecord: {} as FileRecord,\n    };\n  },\n  computed: {\n    hasLinkableUrl(): boolean {\n      if (!this.linkable) {\n        return false;\n      }\n      return !!this.fileRecord.url() && !this.fileRecord.isPlayableVideo() && !this.fileRecord.isPlayableAudio();\n    },\n  },\n  methods: {\n    updateFileRecord() {\n      if (this.value instanceof FileRecord) {\n        this.fileRecord = this.value;\n        return;\n      }\n      FileRecord.fromRaw(this.value, {\n        thumbnailSize: this.thumbnailSize,\n        averageColor: this.averageColor,\n        withCredentials: this.withCredentials,\n      } as Options).then((fileRecord) => {\n        this.fileRecord = fileRecord;\n      });\n      this.fileRecord = FileRecord.fromRawSync(this.value, {\n        thumbnailSize: this.thumbnailSize,\n        averageColor: this.averageColor,\n        withCredentials: this.withCredentials,\n      } as Options);\n    },\n    createThumbnail(fileRecord: FileRecord, video: HTMLVideoElement) {\n      if (fileRecord.videoThumbnail) {\n        video.poster = fileRecord.src();\n        return;\n      }\n      const canvas = document.createElement('canvas');\n      utils\n        .createVideoThumbnail(\n          video,\n          canvas,\n          this.fileRecord.thumbnailSize,\n          this.averageColor !== false,\n          // this.withCredentials === true\n        )\n        .then((thumbnail) => {\n          fileRecord.imageColor = thumbnail.color;\n          fileRecord.videoThumbnail = thumbnail.url;\n          fileRecord.dimensions.width = thumbnail.width;\n          fileRecord.dimensions.height = thumbnail.height;\n          video.poster = fileRecord.src();\n        });\n    },\n\n    playAv(fileRecord: FileRecord) {\n      if (fileRecord.stopAv) {\n        fileRecord.stopAv();\n        return;\n      }\n      const createObjectURL = (window.URL || window.webkitURL || {}).createObjectURL;\n      const revokeObjectURL = (window.URL || window.webkitURL || {}).revokeObjectURL;\n\n      const wrapper = this.$refs.wrapper as HTMLElement;\n      const player = document.createElement(fileRecord.isAudio() ? 'audio' : 'video');\n      if (player instanceof HTMLVideoElement && fileRecord.isPlayableVideo()) {\n        this.createThumbnail(fileRecord, player);\n      }\n      player.controls = true;\n      // player.style.width = this.prvWidth + 'px';\n      wrapper.appendChild(player);\n      const url = (fileRecord.url() as string) || createObjectURL(fileRecord.file);\n      player.src = url;\n      player.play();\n      fileRecord.isPlayingAv = true;\n      fileRecord.stopAv = () => {\n        // player.src = null;\n        player.src = '';\n        wrapper.removeChild(player);\n        revokeObjectURL(url);\n        fileRecord.isPlayingAv = false;\n        fileRecord.stopAv = null;\n      };\n    },\n\n    removeFileRecord(fileRecord: FileRecord) {\n      if (this.clearFilename()) {\n        return;\n      }\n      if (this.disabled === true) {\n        return;\n      }\n      this.$emit('remove', fileRecord);\n    },\n\n    editFileName() {\n      if (this.editable !== true) {\n        return;\n      }\n      if (!this.$refs.input) {\n        return;\n      }\n      (this.$refs.input as HTMLInputElement).focus();\n    },\n\n    editInputFocused() {\n      this.isEditInputFocused = true;\n      this.isEditCancelable = true;\n    },\n\n    editInputBlured() {\n      this.fileRecord.oldFileName = this.fileRecord.name();\n      const oldValue = this.fileRecord.name(true);\n      const value = (this.$refs.input as HTMLInputElement).value;\n      this.fileRecord.customName = value;\n      const newValue = this.fileRecord.name(true);\n      if (newValue !== oldValue) {\n        this.fileRecord.oldCustomName = oldValue;\n        this.$emit('rename', this.fileRecord);\n      }\n      const timeout = 100;\n      setTimeout(() => {\n        this.$nextTick(() => {\n          if (!this.isEditCancelable) {\n            return;\n          }\n          this.isEditInputFocused = false;\n        });\n      }, timeout);\n    },\n\n    filenameChanged(completed?: boolean) {\n      if (completed) {\n        (this.$refs.input as HTMLInputElement).blur(); // @see editInputBlured method\n      }\n      if (completed === false) {\n        this.clearFilename();\n      }\n    },\n\n    filenameClearPressed() {\n      if (!(this.editable === true && this.isEditInputFocused)) {\n        return;\n      }\n      this.isEditCancelable = false;\n    },\n\n    clearFilename() {\n      if (!(this.editable === true && this.isEditInputFocused)) {\n        return false;\n      }\n      (this.$refs.input as HTMLInputElement).value = '';\n      this.isEditCancelable = true;\n      this.editInputBlured();\n      return true;\n    },\n\n    dismissError() {\n      if (this.fileRecord.error && (this.fileRecord.error.size || this.fileRecord.error.type)) {\n        return;\n      }\n      this.fileRecord.error = false;\n    },\n  },\n  created() {\n    this.updateFileRecord();\n  },\n  watch: {\n    value() {\n      this.updateFileRecord();\n    },\n  },\n});\n","<template>\n  <div\n    :class=\"[\n      'file-preview-wrapper-' + fileRecord.ext(),\n      fileRecord.isImage() ? 'file-preview-wrapper-image' : 'file-preview-wrapper-other',\n      'file-category-' + fileRecord.icon().category,\n      { 'file-is-playing-av': fileRecord.isPlayingAv },\n      { 'is-deletable': deletable === true },\n      { 'is-editable': editable === true },\n      { 'is-edit-input-focused': isEditInputFocused },\n      { 'has-error': fileRecord.error },\n    ]\"\n  >\n    <div ref=\"wrapper\" class=\"file-av-wrapper\" v-if=\"fileRecord.isPlayableAudio() || fileRecord.isPlayableVideo()\">\n      <div class=\"file-av-action\" @click=\"playAv(fileRecord)\">\n        <span class=\"file-av-stop\">\n          <VueFileIcon name=\"system-close\"></VueFileIcon>\n        </span>\n        <span class=\"file-av-play\">\n          <VueFileIcon name=\"system-file-av-play\"></VueFileIcon>\n        </span>\n      </div>\n    </div>\n    <span\n      class=\"file-preview\"\n      :class=\"{\n        'image-preview': fileRecord.isImage(),\n        'other-preview': !fileRecord.isImage(),\n        'dark-content': fileRecord.isImage() && fileRecord.isDarkColor(),\n      }\"\n      :style=\"{\n        'background-color': fileRecord.color(),\n      }\"\n    >\n      <span class=\"file-error-wrapper\" v-if=\"fileRecord.error\" @click=\"dismissError()\">\n        <span class=\"file-error-message file-error-message-client\">\n          {{ fileRecord.getErrorMessage(errorText) }}\n        </span>\n      </span>\n      <span class=\"file-preview-overlay\"></span>\n      <span\n        class=\"thumbnail\"\n        style=\"position: absolute; top: 0; right: 0; bottom: 0; left: 0; overflow: hidden;\"\n        v-if=\"fileRecord.isImage() || fileRecord.isPlayableVideo()\"\n      >\n        <a v-if=\"hasLinkableUrl\" :href=\"fileRecord.url()\" target=\"_blank\" :title=\"fileRecord.name()\">\n          <img class=\"file-preview-img\" :src=\"fileRecord.src()\" />\n        </a>\n        <img v-else class=\"file-preview-img\" :src=\"fileRecord.src()\" />\n      </span>\n      <span class=\"file-ext\">{{ fileRecord.ext() }}</span>\n      <span class=\"file-size\">{{ fileRecord.size() }}</span>\n      <span\n        v-if=\"deletable\"\n        class=\"file-delete\"\n        @click=\"removeFileRecord(fileRecord)\"\n        @touchstart=\"filenameClearPressed()\"\n        @mousedown=\"filenameClearPressed()\"\n      >\n        <VueFileIcon name=\"system-close\"></VueFileIcon>\n      </span>\n      <span class=\"file-name\" @click=\"editFileName()\">\n        <input\n          class=\"file-name-input\"\n          ref=\"input\"\n          v-if=\"editable === true\"\n          :disabled=\"disabled === true\"\n          type=\"text\"\n          :value=\"fileRecord.name(true)\"\n          @focus=\"editInputFocused()\"\n          @blur=\"editInputBlured()\"\n          @change=\"filenameChanged()\"\n          @input=\"filenameChanged()\"\n          @keyup.enter=\"filenameChanged(true)\"\n          @keyup.esc=\"filenameChanged(false)\"\n        />\n        <span class=\"file-name-edit-icon\" v-if=\"editable === true\">\n          <VueFileIcon name=\"system-file-name-edit\"></VueFileIcon>\n        </span>\n        <span class=\"file-name-text\">{{ fileRecord.name(true) }}</span>\n      </span>\n      <span v-if=\"fileRecord.dimensions.width && fileRecord.dimensions.height\" class=\"image-dimension\">\n        <span class=\"image-dimension-width\">{{ fileRecord.dimensions.width }}</span\n        ><span class=\"image-dimension-height\">{{ fileRecord.dimensions.height }}</span>\n      </span>\n      <span\n        class=\"file-progress\"\n        v-if=\"fileRecord.hasProgress()\"\n        :class=\"{\n          'file-progress-full': fileRecord.progress() >= 99.9999,\n          'file-progress-done': fileRecord.progress() >= 100,\n          'has-file-progress': fileRecord.progress() > 0,\n        }\"\n      >\n        <span class=\"file-progress-bar\" :style=\"{ width: fileRecord.progress() + '%' }\"></span>\n      </span>\n      <span class=\"file-icon\">\n        <a v-if=\"hasLinkableUrl\" :href=\"fileRecord.url()\" target=\"_blank\" :title=\"fileRecord.name()\">\n          <VueFileIcon :ext=\"fileRecord.ext()\"></VueFileIcon>\n        </a>\n        <VueFileIcon v-else :ext=\"fileRecord.ext()\"></VueFileIcon>\n      </span>\n    </span>\n  </div>\n</template>\n<script lang=\"ts\">\nimport Vue from 'vue';\nimport mixin from './vue-file-preview-mixin';\n\nexport default Vue.extend({\n  mixins: [mixin],\n});\n</script>\n","import mod from \"-!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue-file-preview.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue-file-preview.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./vue-file-preview.vue?vue&type=template&id=7be956b0\"\nimport script from \"./vue-file-preview.vue?vue&type=script&lang=ts\"\nexport * from \"./vue-file-preview.vue?vue&type=script&lang=ts\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <slot></slot>\n  </div>\n</template>\n<script lang=\"ts\">\nimport Vue from 'vue';\n\nexport default Vue.extend({\n  props: ['value', 'axis', 'appendTo'],\n});\n</script>\n","import mod from \"-!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue-file-list.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue-file-list.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./vue-file-list.vue?vue&type=template&id=0ab83eb6\"\nimport script from \"./vue-file-list.vue?vue&type=script&lang=ts\"\nexport * from \"./vue-file-list.vue?vue&type=script&lang=ts\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <slot></slot>\n  </div>\n</template>\n<script lang=\"ts\">\nimport Vue from 'vue';\n\nexport default Vue.extend({\n  props: ['index'],\n});\n</script>\n","import mod from \"-!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue-file-list-item.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue-file-list-item.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./vue-file-list-item.vue?vue&type=template&id=aa83b36e\"\nimport script from \"./vue-file-list-item.vue?vue&type=script&lang=ts\"\nexport * from \"./vue-file-list-item.vue?vue&type=script&lang=ts\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:[\n    'is-sortable-' + (_vm.isSortable ? 'enabled' : 'disabled'),\n    {\n      'is-sortable-hold': _vm.sortable === 'hold',\n      'is-sortable-handle': _vm.sortable === 'handle',\n      'is-sortable-immediately': _vm.sortable === true,\n      'is-sorting': _vm.isSorting,\n      'is-sorting-active': _vm.isSortingActive,\n      'is-drag-over': _vm.isDragging,\n      'is-disabled': _vm.disabled === true,\n      'is-readonly': _vm.readonly === true,\n      'is-drag-valid': !(_vm.disabled === true || _vm.readonly === true || (_vm.hasMultiple && !_vm.canAddMore)),\n    },\n    'theme-' + _vm.theme,\n  ],attrs:{\"id\":'vfa-' + _vm.uniqueId},on:{\"dragover\":_vm.dragOver,\"dragenter\":_vm.dragEnter,\"dragleave\":_vm.dragLeave,\"drop\":_vm.drop}},[_vm._t(\"before-outer\"),_c('div',{staticClass:\"grid-block-wrapper vue-file-agent file-input-wrapper\",class:{\n      'is-compact': !!_vm.compact,\n      'is-single': !_vm.hasMultiple,\n      'has-multiple': _vm.hasMultiple,\n      'no-meta': _vm.meta === false,\n    }},[_vm._t(\"before-inner\"),_c('canvas',{ref:\"thumbnailCanvas\",staticStyle:{\"position\":\"fixed\",\"visibility\":\"hidden\",\"z-index\":\"-3\"}}),(_vm.overallProgress)?_c('div',{staticClass:\"overall-progress\",class:{ 'overall-progress-full': _vm.overallProgress >= 100 }},[_c('div',{staticClass:\"overall-progress-bar\",style:({ width: _vm.overallProgress + '%' })}),_c('div',{staticClass:\"overall-progress-left\",style:({ width: 100 - _vm.overallProgress + '%' })})]):_vm._e(),_c(_vm.isSortable ? 'vfa-sortable-list' : 'VueFileList',{tag:\"component\",attrs:{\"axis\":_vm.theme == 'list' ? 'y' : 'xy',\"appendTo\":'#vfa-' + _vm.uniqueId + ' .vue-file-agent',\"transitionDuration\":_vm.transitionDuration,\"pressDelay\":_vm.sortable === 'hold' ? 200 : 0,\"useDragHandle\":_vm.sortable === 'handle',\"helperClass\":'active-sorting-item'},on:{\"sort-start\":function($event){return _vm.sortStart()},\"sort-end\":function($event){return _vm.sortEnd($event)}},model:{value:(_vm.fileRecords),callback:function ($$v) {_vm.fileRecords=$$v},expression:\"fileRecords\"}},[_c('transition-group',{attrs:{\"name\":\"grid-box\",\"tag\":\"div\"}},[_vm._l((_vm.fileRecords),function(fileRecord,index){return _c(_vm.isSortable ? 'vfa-sortable-item' : 'VueFileListItem',{key:fileRecord.id,tag:\"component\",staticClass:\"file-preview-wrapper grid-box-item grid-block\",attrs:{\"index\":index}},[(_vm.sortable === 'handle')?_c('span',{directives:[{name:\"vfa-sortable-handle\",rawName:\"v-vfa-sortable-handle\"}],staticClass:\"file-sortable-handle\"},[_vm._t(\"sortable-handle\",function(){return [_c('VueFileIcon',{attrs:{\"name\":\"system-sortable-handle\"}})]})],2):_vm._e(),_vm._t(\"file-preview-before\",null,{\"fileRecord\":fileRecord,\"fileData\":fileRecord,\"index\":index}),_vm._t(\"file-preview\",function(){return [_c('VueFilePreview',{attrs:{\"averageColor\":_vm.averageColor,\"value\":fileRecord,\"deletable\":_vm.isDeletable,\"editable\":_vm.editable === true,\"linkable\":_vm.linkable === true,\"errorText\":_vm.errorText,\"disabled\":_vm.disabled,\"thumbnailSize\":_vm.thumbnailSize,\"withCredentials\":_vm.withCredentials},on:{\"remove\":function($event){return _vm.removeFileRecord($event)},\"rename\":function($event){return _vm.filenameChanged($event)}}})]},{\"fileRecord\":fileRecord,\"fileData\":fileRecord,\"index\":index}),_vm._t(\"file-preview-after\",null,{\"fileRecord\":fileRecord,\"fileData\":fileRecord,\"index\":index})],2)}),(_vm.canAddMore && _vm.readonly !== true)?[_vm._t(\"file-preview-new\",function(){return [_c('div',{key:\"new\",staticClass:\"file-preview-wrapper grid-box-item grid-block file-preview-new\"},[_c('span',{staticClass:\"file-preview\"},[_c('span',{staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"right\":\"0\",\"bottom\":\"0\",\"left\":\"0\"}},[_c('VueFileIcon',{attrs:{\"name\":\"system-file-preview-new\"}}),_c('span',{staticClass:\"help-text\"},[_vm._v(_vm._s(_vm.helpTextComputed))])],1)])])]})]:_vm._e()],2)],1),(_vm.readonly !== true)?_c('input',{ref:\"fileInput\",staticClass:\"file-input\",attrs:{\"title\":\"\",\"disabled\":_vm.disabled === true || (_vm.hasMultiple && !_vm.canAddMore),\"type\":\"file\",\"multiple\":_vm.hasMultiple,\"accept\":_vm.accept || '*',\"capture\":_vm.capture || undefined},on:{\"change\":_vm.filesChanged}}):_vm._e(),_vm._t(\"after-inner\")],2),_vm._t(\"after-outer\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export type ConfigureFn = (request: XMLHttpRequest) => any;\nexport interface AjaxResponse {\n  data: any;\n  status: number;\n  statusText: string;\n  headers: string;\n  request: XMLHttpRequest;\n}\nexport type AjaxRequestData = FormData | any;\nexport interface AjaxError extends Error {\n  error: true;\n  code: string;\n  request: XMLHttpRequest;\n  response?: AjaxResponse;\n}\n\n/* inspired by axios */\nclass AjaxRequest {\n  public createError(\n    message: string,\n    code: string | null,\n    request: XMLHttpRequest,\n    response?: AjaxResponse\n  ): AjaxError {\n    const error: AjaxError = new Error(message) as AjaxError;\n    error.error = true;\n    if (code) {\n      error.code = code;\n    }\n    error.request = request;\n    error.response = response;\n    return error;\n  }\n\n  public settle(resolve: any, reject: any, response: AjaxResponse) {\n    const validateStatus = (status: number) => {\n      return status >= 200 && status < 300;\n    };\n    // Note: status is not exposed by XDomainRequest\n    if (!response.status || !validateStatus || validateStatus(response.status)) {\n      resolve(response);\n    } else {\n      reject(this.createError('Request failed with status code ' + response.status, null, response.request, response));\n    }\n  }\n\n  public request(\n    method: string,\n    url: string,\n    formData: AjaxRequestData | null = null,\n    configureFn?: ConfigureFn\n  ): Promise<AjaxResponse> {\n    return new Promise((resolve, reject) => {\n      // tslint:disable-next-line\n      let request = new XMLHttpRequest();\n      const loadEvent = 'onreadystatechange';\n\n      request.open(method, url, true);\n\n      // Listen for ready state\n      request[loadEvent] = () => {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n\n        // Prepare the response\n        const responseHeaders = request.getAllResponseHeaders();\n        let responseData: any = request.responseText;\n        const contentType = request.getResponseHeader('Content-Type');\n        if (contentType && contentType.indexOf('application/json') !== -1) {\n          responseData = JSON.parse(responseData);\n        } else {\n          try {\n            responseData = JSON.parse(responseData);\n          } catch (e) {\n            /* ignore, possibly non json response */\n          }\n        }\n        const response: AjaxResponse = {\n          data: responseData,\n          // IE sends 1223 instead of 204 (https://github.com/axios/axios/issues/201)\n          status: request.status === 1223 ? 204 : request.status,\n          statusText: request.status === 1223 ? 'No Content' : request.statusText,\n          headers: responseHeaders,\n          request,\n        };\n\n        this.settle(resolve, reject, response);\n\n        // Clean up request\n        (request as any) = null;\n      };\n\n      // Handle browser request cancellation (as opposed to a manual cancellation)\n      request.onabort = () => {\n        if (!request) {\n          return;\n        }\n\n        reject(this.createError('Request aborted', 'ECONNABORTED', request));\n\n        // Clean up request\n        (request as any) = null;\n      };\n\n      // Handle low level network errors\n      request.onerror = () => {\n        // Real errors are hidden from us by the browser\n        // onerror should only fire if it's a network error\n        reject(this.createError('Network Error', null, request));\n\n        // Clean up request\n        (request as any) = null;\n      };\n\n      // Handle timeout\n      request.ontimeout = () => {\n        reject(this.createError('timeout exceeded', 'ECONNABORTED', request));\n\n        // Clean up request\n        (request as any) = null;\n      };\n\n      // // Handle progress if needed\n      // if (typeof config.onDownloadProgress === 'function') {\n      //   request.addEventListener('progress', config.onDownloadProgress);\n      // }\n\n      // Not all browsers support upload events\n      // if (typeof progressCallback === 'function' && request.upload) {\n      //   request.upload.addEventListener('progress', progressCallback);\n      // }\n\n      if (typeof configureFn === 'function') {\n        configureFn(request);\n      }\n\n      request.send(formData);\n    });\n  }\n\n  public post(url: string, formData: AjaxRequestData, configureFn?: ConfigureFn) {\n    return this.request('POST', url, formData, configureFn);\n  }\n\n  public delete(url: string, formData: AjaxRequestData, configureFn?: ConfigureFn) {\n    return this.request('DELETE', url, formData, configureFn);\n  }\n\n  public put(url: string, formData: AjaxRequestData, configureFn?: ConfigureFn) {\n    return this.request('PUT', url, formData, configureFn);\n  }\n}\n\nexport default new AjaxRequest();\n","import ajax from './ajax-request';\nimport { ConfigureFn, AjaxResponse, AjaxError } from './ajax-request';\nimport FileRecord from './file-record';\n\ntype ProgressFn = (event: ProgressEvent) => void;\ntype CreateFormDataFn = (fileRecord: FileRecord) => FormData;\n\nexport interface TusOptions {\n  retryDelays?: number[];\n  metadata?: any;\n}\n\nexport type TusOptionsFn = (fileRecord: FileRecord) => TusOptions;\n\nclass UploadHelper {\n  // useAxios(axios){\n  //   this.axios = axios;\n  // }\n\n  public addHeaders(xhr: XMLHttpRequest, headers: object): XMLHttpRequest {\n    xhr.setRequestHeader('Accept', 'application/json');\n    if (headers) {\n      for (const key in headers) {\n        if (headers.hasOwnProperty(key)) {\n          xhr.setRequestHeader(key, (headers as any)[key]);\n        }\n      }\n    }\n    return xhr;\n  }\n\n  public doUpload(\n    url: string,\n    headers: object,\n    formData: FormData,\n    progressCallback: ProgressFn,\n    configureFn?: ConfigureFn\n  ): Promise<AjaxResponse> {\n    return ajax.post(url, formData, (xhr) => {\n      this.addHeaders(xhr, headers);\n      xhr.upload.addEventListener('progress', progressCallback, false);\n      if (typeof configureFn === 'function') {\n        configureFn(xhr);\n      }\n    });\n  }\n\n  public doDeleteUpload(\n    url: string,\n    headers: object,\n    uploadData: any,\n    configureFn?: ConfigureFn\n  ): Promise<AjaxResponse> {\n    if (typeof uploadData !== 'string') {\n      uploadData = JSON.stringify(uploadData);\n    }\n    return ajax.delete(url, uploadData, (xhr) => {\n      xhr.setRequestHeader('Content-Type', 'application/json');\n      this.addHeaders(xhr, headers);\n      if (typeof configureFn === 'function') {\n        configureFn(xhr);\n      }\n    });\n  }\n\n  public doUpdateUpload(\n    url: string,\n    headers: object,\n    uploadData: any,\n    configureFn?: ConfigureFn\n  ): Promise<AjaxResponse> {\n    if (typeof uploadData !== 'string') {\n      uploadData = JSON.stringify(uploadData);\n    }\n    return ajax.put(url, uploadData, (xhr) => {\n      xhr.setRequestHeader('Content-Type', 'application/json');\n      this.addHeaders(xhr, headers);\n      if (typeof configureFn === 'function') {\n        configureFn(xhr);\n      }\n    });\n  }\n\n  // doUploadAxios(axios, formData, progressCallback){\n  //   return axios.post('/upload', formData, {\n  //     onUploadProgress: progressCallback,\n  //   });\n  // }\n\n  // doDeleteUploadAxios(axios, data, configureFn){\n  //   return axios.delete('/upload', data, {\n  //   });\n  // }\n\n  public prepareUploadError(fileRecord: FileRecord, err: AjaxError, timeout?: number) {\n    let errorText = err.message;\n    if (err.response && err.response.data) {\n      try {\n        const errorMsg = err.response.data.error || JSON.parse(err.response.data).error;\n        errorText = errorMsg;\n      } catch (e) {\n        // ignore\n      }\n    }\n    if (!fileRecord.error) {\n      fileRecord.error = {};\n    }\n    fileRecord.error.upload = errorText;\n    fileRecord.upload.data = undefined;\n    fileRecord.upload.error = errorText;\n    if (timeout) {\n      setTimeout(() => {\n        if (!fileRecord.error) {\n          fileRecord.error = {};\n        }\n        fileRecord.error.upload = false;\n        if (!fileRecord.error.size && !fileRecord.error.type) {\n          fileRecord.error = false;\n        }\n      }, timeout);\n    }\n  }\n\n  public upload(\n    url: string,\n    headers: object,\n    fileRecords: FileRecord[],\n    createFormData?: CreateFormDataFn,\n    progressFn?: (progress: number) => void,\n    configureFn?: ConfigureFn\n  ) {\n    let updateOverallProgress = () => {\n      /* no op */\n    };\n    if (progressFn) {\n      updateOverallProgress = () => {\n        let prgTotal = 0;\n        for (const fileRecord of fileRecords) {\n          prgTotal += fileRecord.progress() as number;\n        }\n        progressFn(prgTotal / fileRecords.length);\n      };\n    }\n    const promises: Array<Promise<AjaxResponse | AjaxError>> = [];\n    let failedUploadsCount = 0;\n    for (const fileRecord of fileRecords) {\n      let formData;\n      if (typeof createFormData === 'function') {\n        formData = createFormData(fileRecord);\n      } else {\n        formData = new FormData();\n        formData.append('file', fileRecord.file as File);\n        formData.append('filename', fileRecord.name());\n      }\n      // ((fileRecord) => {\n      const promise = this.doUpload(\n        url,\n        headers,\n        formData,\n        (progressEvent) => {\n          const percentCompleted = (progressEvent.loaded * 100) / progressEvent.total;\n          // do not complete until promise resolved\n          fileRecord.progress(percentCompleted >= 100 ? 99.9999 : percentCompleted);\n          updateOverallProgress();\n        },\n        (xhr) => {\n          fileRecord.xhr = xhr;\n          if (typeof configureFn === 'function') {\n            configureFn(xhr);\n          }\n        }\n      );\n      promises.push(\n        new Promise((resolve, reject) => {\n          promise.then(\n            (response) => {\n              delete fileRecord.xhr;\n              fileRecord.upload.data = response.data;\n              fileRecord.upload.error = false;\n              fileRecord.progress(100);\n              if (fileRecord.xhrQueue) {\n                fileRecord.xhrQueue();\n                delete fileRecord.xhrQueue;\n              }\n              resolve(response);\n            } /* */,\n            (err) => {\n              this.prepareUploadError(fileRecord, err);\n              resolve(err);\n              failedUploadsCount++;\n            } /* */\n          );\n        })\n      );\n      // promises.push(promise);\n      // })(fileRecord);\n    }\n    // return Promise.all(promises);\n    return new Promise((resolve, reject) => {\n      Promise.all(promises).then((responses) => {\n        if (failedUploadsCount === promises.length) {\n          // all uploads failed\n          reject(responses);\n          return;\n        }\n        resolve(responses);\n      }, reject);\n    });\n  }\n\n  public deleteUpload(\n    url: string,\n    headers: object,\n    fileRecord: FileRecord,\n    uploadData?: any,\n    configureFn?: ConfigureFn\n  ) {\n    return new Promise((resolve, reject) => {\n      if (fileRecord.xhr) {\n        fileRecord.xhr.abort();\n      }\n      if (uploadData === undefined) {\n        uploadData = fileRecord.upload.data;\n      }\n      if (uploadData) {\n        this.doDeleteUpload(url, headers, uploadData, (xhr) => {\n          if (typeof configureFn === 'function') {\n            configureFn(xhr);\n          }\n        }).then(\n          (result) => {\n            resolve(result);\n          },\n          (err) => {\n            this.prepareUploadError(fileRecord, err);\n            reject(err);\n          }\n        );\n      }\n    });\n  }\n\n  public updateUpload(\n    url: string,\n    headers: object,\n    fileRecord: FileRecord,\n    uploadData: any,\n    configureFn?: ConfigureFn\n  ) {\n    return new Promise((resolve: any, reject) => {\n      if (fileRecord.xhr) {\n        // probably updated while being uploaded.\n        fileRecord.xhrQueue = () => {\n          this.updateUpload(url, headers, fileRecord, uploadData);\n        };\n        return resolve();\n      }\n      if (uploadData === undefined) {\n        uploadData = fileRecord.upload.data || {};\n        uploadData.old_filename = fileRecord.oldFileName;\n        uploadData.filename = fileRecord.name();\n      }\n      if (uploadData) {\n        this.doUpdateUpload(url, headers, uploadData, (xhr) => {\n          if (typeof configureFn === 'function') {\n            configureFn(xhr);\n          }\n        }).then(\n          (response) => {\n            fileRecord.upload.data = response.data;\n            fileRecord.upload.error = false;\n            resolve(response);\n          },\n          (err) => {\n            this.prepareUploadError(fileRecord, err);\n            reject(err);\n          }\n        );\n      }\n    });\n  }\n\n  public doTusUpload(\n    tus: any,\n    url: string,\n    fileRecord: FileRecord,\n    headers: object,\n    progressCallback: ProgressFn,\n    tusOptionsFn?: TusOptionsFn,\n    uploadWithCredentials?: boolean\n  ) {\n    const tusOptions: TusOptions = tusOptionsFn ? tusOptionsFn(fileRecord) : {};\n    return new Promise((resolve, reject) => {\n      if (!tus) {\n        return reject(new Error('tus required. Please install tus-js-client'));\n      }\n      // https://github.com/tus/tus-js-client\n      // Create a new tus upload\n      const file = fileRecord.file;\n      const upload = new tus.Upload(file, {\n        endpoint: url,\n        headers,\n        retryDelays: tusOptions.retryDelays ? tusOptions.retryDelays : [0, 3000, 5000, 10000, 20000],\n        metadata: tusOptions.metadata\n          ? tusOptions.metadata\n          : {\n              filename: file.name,\n              filetype: file.type,\n            },\n        onError(error: any) {\n          reject(error);\n          // console.log(\"Failed because: \" + error)\n        },\n        onProgress(bytesUploaded: number, bytesTotal: number) {\n          const event = { loaded: bytesUploaded, total: bytesTotal } as ProgressEvent;\n          progressCallback(event);\n        },\n        onSuccess() {\n          resolve(upload);\n        },\n        onBeforeRequest: function (req: any) {\n          const xhr: XMLHttpRequest = req.getUnderlyingObject();\n          xhr.withCredentials = uploadWithCredentials === true;\n        },\n      });\n      fileRecord.tusUpload = upload;\n      // Start the upload\n      upload.start();\n    });\n  }\n\n  public tusUpload(\n    tus: any,\n    url: string,\n    headers: object,\n    fileRecords: FileRecord[],\n    progressFn?: (progress: number) => void,\n    tusOptionsFn?: TusOptionsFn,\n    uploadWithCredentials?: boolean\n  ) {\n    let updateOverallProgress = () => {\n      /* no op */\n    };\n    if (progressFn) {\n      updateOverallProgress = () => {\n        let prgTotal = 0;\n        for (const fileRecord of fileRecords) {\n          prgTotal += fileRecord.progress() as number;\n        }\n        progressFn(prgTotal / fileRecords.length);\n      };\n    }\n    const promises = [];\n    for (const fileRecord of fileRecords) {\n      const promise = this.doTusUpload(\n        tus,\n        url,\n        fileRecord,\n        headers,\n        (progressEvent: ProgressEvent) => {\n          const percentCompleted = (progressEvent.loaded * 100) / progressEvent.total;\n          // do not complete until promise resolved\n          fileRecord.progress(percentCompleted >= 100 ? 99.9999 : percentCompleted);\n          updateOverallProgress();\n        },\n        tusOptionsFn,\n        uploadWithCredentials\n      );\n      promise.then(\n        (response) => {\n          // delete fileRecord.tusUpload;\n          fileRecord.progress(100);\n        },\n        (err) => {\n          this.prepareUploadError(fileRecord, err);\n        }\n      );\n      promises.push(promise);\n    }\n    return Promise.all(promises);\n  }\n\n  public tusDeleteUpload(tus: any, url: string, headers: object, fileRecord: FileRecord) {\n    return new Promise((resolve: any, reject) => {\n      if (!tus) {\n        return reject('tus required');\n      }\n      if (!fileRecord.tusUpload) {\n        return resolve();\n      }\n      // const shouldTerminate = true;\n      const abort = (shouldTerminate: boolean) => {\n        return new Promise((res: any, rej) => {\n          fileRecord.tusUpload.abort(shouldTerminate, (err: any) => {\n            if (err) {\n              this.prepareUploadError(fileRecord, err);\n              rej(err);\n              return;\n            }\n            res();\n          });\n        });\n      };\n      abort(false).then(() => {\n        setTimeout(() => {\n          abort(true).then(resolve, reject);\n        }, 1000);\n      });\n    });\n  }\n}\n\nexport default new UploadHelper();\n","export default {\n  tus: null as any,\n};\n","import utils from '../lib/utils';\nimport VueFileIcon from './vue-file-icon.vue';\nimport VueFilePreview from './vue-file-preview.vue';\nimport VueFileList from './vue-file-list.vue';\nimport VueFileListItem from './vue-file-list-item.vue';\nimport FileRecord from '../lib/file-record';\nimport { RawFileRecord } from '../lib/file-record';\nimport uploader from '../lib/upload-helper';\nimport Vue from 'vue';\nimport plugins from '../lib/plugins';\nimport { ConfigureFn } from '../lib/ajax-request';\n\n// tslint:disable-next-line\nvar dragCounter = 0;\n\nexport default Vue.extend({\n  props: [\n    'accept',\n    'auto',\n    'averageColor',\n    'capture',\n    'compact',\n    'deletable',\n    'disabled',\n    'editable',\n    'errorText',\n    'helpText',\n    'linkable',\n    'maxFiles',\n    'maxSize',\n    'meta',\n    'multiple',\n    'progress',\n    'read',\n    'readonly',\n    'resumable',\n    'sortable',\n    'theme',\n    'thumbnailSize',\n    'uploadConfig',\n    'uploadHeaders',\n    'uploadUrl',\n    'uploadWithCredentials',\n    'value',\n  ],\n  components: {\n    VueFileIcon,\n    VueFilePreview,\n    VueFileList,\n    VueFileListItem,\n  },\n  directives: {\n    // https://github.com/Jexordexan/vue-slicksort/blob/master/src/HandleDirective.js\n    vfaSortableHandle: {\n      bind(el: HTMLElement) {\n        (el as any).sortableHandle = true;\n      },\n    },\n  },\n  data() {\n    return {\n      fileRecords: [] as FileRecord[],\n      rawFileRecords: [] as RawFileRecord[],\n      isDragging: false,\n      isSorting: false,\n      isSortingActive: false,\n      transitionDuration: 300,\n      overallProgress: 0,\n      uniqueId: '',\n      sortTimeout: 0,\n    };\n  },\n  computed: {\n    withCredentials(): boolean | undefined {\n      return this.uploadWithCredentials;\n    },\n    canAddMore(): boolean {\n      if (!this.hasMultiple) {\n        return this.fileRecords.length === 0;\n      }\n      if (!this.maxFiles) {\n        return true;\n      }\n      return this.fileRecords.length < this.maxFiles;\n    },\n    helpTextComputed(): string {\n      if (this.helpText) {\n        return this.helpText;\n      }\n      return 'Choose ' + (this.hasMultiple ? 'files' : 'file') + ' or drag & drop here';\n    },\n    isDeletable(): boolean {\n      if (typeof this.deletable === 'string') {\n        return this.deletable !== 'false';\n      }\n      return !!this.deletable;\n    },\n    isSortable(): boolean {\n      return !!this.sortable;\n    },\n    hasMultiple(): boolean {\n      if (typeof this.multiple === 'string') {\n        return this.multiple !== 'false';\n      }\n      if (this.multiple === undefined) {\n        return Array.isArray(this.value);\n      }\n      return !!this.multiple;\n    },\n    shouldRead(): boolean {\n      if (typeof this.read === 'string') {\n        return this.read === 'true';\n      }\n      return !!this.read;\n    },\n  },\n  methods: {\n    createThumbnail(fileRecord: FileRecord, video: HTMLVideoElement): Promise<void> {\n      return new Promise((resolve, reject) => {\n        const canvas = document.createElement('canvas');\n        utils\n          .createVideoThumbnail(\n            video,\n            canvas,\n            fileRecord.thumbnailSize,\n            this.averageColor !== false,\n            // this.withCredentials\n          )\n          .then((thumbnail) => {\n            fileRecord.imageColor = thumbnail.color;\n            fileRecord.videoThumbnail = thumbnail.url;\n            fileRecord.dimensions.width = thumbnail.width;\n            fileRecord.dimensions.height = thumbnail.height;\n            resolve();\n          }, reject);\n      });\n    },\n    initVideo(fileRecord: FileRecord): void {\n      if (!fileRecord.isPlayableVideo()) {\n        return;\n      }\n      const createObjectURL = (window.URL || window.webkitURL || {}).createObjectURL;\n      const revokeObjectURL = (window.URL || window.webkitURL || {}).revokeObjectURL;\n      const video = document.createElement('video');\n      video.src = createObjectURL(fileRecord.file);\n      this.createThumbnail(fileRecord, video).then(() => {\n        revokeObjectURL(video.src);\n      });\n      video.load();\n    },\n    getFileRecordOrRawInstance(fileRecordOrRaw: FileRecord | RawFileRecord, raw: boolean): FileRecord | RawFileRecord {\n      let i;\n      if (fileRecordOrRaw instanceof FileRecord) {\n        i = this.fileRecords.indexOf(fileRecordOrRaw);\n      } else {\n        i = this.rawFileRecords.indexOf(fileRecordOrRaw);\n      }\n      if (i === -1) {\n        return fileRecordOrRaw;\n      }\n      return raw ? this.rawFileRecords[i] : this.fileRecords[i];\n    },\n    getFileRecordRawInstance(fileRecordOrRaw: FileRecord | RawFileRecord): RawFileRecord {\n      return this.getFileRecordOrRawInstance(fileRecordOrRaw, true) as RawFileRecord;\n    },\n    getFileRecordInstance(fileRecordOrRaw: FileRecord | RawFileRecord): FileRecord {\n      return this.getFileRecordOrRawInstance(fileRecordOrRaw, false) as FileRecord;\n    },\n    prepareConfigureFn(configureXhr?: ConfigureFn) {\n      const withCredentials = this.uploadWithCredentials;\n      if (withCredentials !== true && withCredentials !== false) {\n        return configureXhr;\n      }\n      return (request: XMLHttpRequest) => {\n        request.withCredentials = withCredentials;\n        if (typeof configureXhr === 'function') {\n          configureXhr(request);\n        }\n      };\n    },\n    upload(\n      url: string,\n      headers: object,\n      fileRecordsOrRaw: FileRecord[] | RawFileRecord[],\n      createFormData?: (fileRecord: FileRecord) => FormData,\n      configureXhr?: ConfigureFn\n    ): Promise<any> {\n      const validFileRecords: FileRecord[] = [];\n      const validFilesRawData: RawFileRecord[] = [];\n      for (const fileRecordOrRaw of fileRecordsOrRaw) {\n        const fileRecord = this.getFileRecordInstance(fileRecordOrRaw);\n        if (!fileRecord.error) {\n          validFileRecords.push(fileRecord);\n          validFilesRawData.push(this.getFileRecordRawInstance(fileRecord));\n        }\n      }\n      if (this.resumable) {\n        return uploader.tusUpload(\n          plugins.tus,\n          url,\n          headers,\n          validFileRecords,\n          (overallProgress) => {\n            this.overallProgress = overallProgress;\n          },\n          this.resumable === true ? undefined : this.resumable,\n          this.uploadWithCredentials\n        );\n      }\n      return new Promise((resolve, reject) => {\n        uploader\n          .upload(\n            url,\n            headers,\n            validFileRecords,\n            createFormData,\n            (overallProgress) => {\n              this.overallProgress = overallProgress;\n            },\n            this.prepareConfigureFn(configureXhr)\n          )\n          .then(\n            (res: any) => {\n              for (let i = 0; i < res.length; i++) {\n                res[i].fileRecord = validFilesRawData[i];\n              }\n              this.$emit('upload', res);\n              resolve(res);\n            },\n            (err: any) => {\n              for (let i = 0; i < err.length; i++) {\n                err[i].fileRecord = validFilesRawData[i];\n              }\n              this.$emit('upload:error', err);\n              reject(err);\n            }\n          );\n      });\n    },\n    deleteUpload(\n      url: string,\n      headers: object,\n      fileRecordOrRaw: FileRecord | RawFileRecord,\n      uploadData?: any,\n      configureXhr?: ConfigureFn\n    ): Promise<any> {\n      if (this.fileRecords.length < 1) {\n        this.overallProgress = 0;\n      }\n      const fileRecord = this.getFileRecordInstance(fileRecordOrRaw);\n      const rawFileRecord = this.getFileRecordRawInstance(fileRecordOrRaw);\n      if (this.resumable) {\n        return uploader.tusDeleteUpload(plugins.tus, url, headers, fileRecord);\n      }\n      return new Promise((resolve, reject) => {\n        uploader\n          .deleteUpload(url, headers, fileRecord as FileRecord, uploadData, this.prepareConfigureFn(configureXhr))\n          .then(\n            (res: any) => {\n              res.fileRecord = rawFileRecord;\n              this.$emit('upload:delete', res);\n              resolve(res);\n            },\n            (err: any) => {\n              err.fileRecord = rawFileRecord;\n              this.$emit('upload:delete:error', err);\n              reject(err);\n            }\n          );\n      });\n    },\n    updateUpload(\n      url: string,\n      headers: object,\n      fileRecord: FileRecord | RawFileRecord,\n      uploadData?: any,\n      configureXhr?: ConfigureFn\n    ): Promise<any> {\n      fileRecord = this.getFileRecordInstance(fileRecord);\n      const rawFileRecord = this.getFileRecordRawInstance(fileRecord);\n      return new Promise((resolve, reject) => {\n        uploader\n          .updateUpload(url, headers, fileRecord as FileRecord, uploadData, this.prepareConfigureFn(configureXhr))\n          .then(\n            (res: any) => {\n              res.fileRecords = rawFileRecord;\n              this.$emit('upload:update', res);\n              resolve(res);\n            },\n            (err) => {\n              err.fileRecords = rawFileRecord;\n              this.$emit('upload:update:error', err);\n              reject(err);\n            }\n          );\n      });\n    },\n    autoUpload(fileRecords: FileRecord[] | RawFileRecord[]): Promise<any> {\n      if (!this.uploadUrl || this.auto === false) {\n        return Promise.resolve(false);\n      }\n      return this.upload(this.uploadUrl, this.uploadHeaders, fileRecords, this.uploadConfig);\n    },\n    autoDeleteUpload(fileRecord: FileRecord | RawFileRecord): Promise<any> {\n      if (!this.uploadUrl || this.auto === false) {\n        return Promise.resolve(false);\n      }\n      return this.deleteUpload(this.uploadUrl, this.uploadHeaders, fileRecord, this.uploadConfig);\n    },\n    autoUpdateUpload(fileRecord: FileRecord): Promise<any> {\n      if (!this.uploadUrl || this.auto === false) {\n        return Promise.resolve(false);\n      }\n      return this.updateUpload(this.uploadUrl, this.uploadHeaders, fileRecord, this.uploadConfig);\n    },\n    equalFiles(file1: File, file2: File): boolean {\n      return (\n        true &&\n        file1.name === file2.name &&\n        file1.size === file2.size &&\n        file1.type === file2.type &&\n        // file1.lastModifiedDate.getTime() === file2.lastModifiedDate.getTime() &&\n        file1.lastModified === file2.lastModified\n      );\n    },\n    isFileAddedAlready(file: File): boolean {\n      for (const fileRecord of this.fileRecords) {\n        if (this.equalFiles(file, fileRecord.file as File)) {\n          return true;\n        }\n      }\n      return false;\n    },\n    handleFiles(files: File[] | FileList): void {\n      if (this.disabled === true || this.readonly === true) {\n        return;\n      }\n      if (this.hasMultiple && !this.canAddMore) {\n        return;\n      }\n      const fileRecords: FileRecord[] = [];\n      const filesFiltered: File[] = [];\n      // tslint:disable-next-line\n      for (let i = 0; i < files.length; i++) {\n        if (this.hasMultiple && this.isFileAddedAlready(files[i])) {\n          continue;\n        }\n        filesFiltered.push(files[i]);\n      }\n      files = filesFiltered;\n      if (this.hasMultiple && this.maxFiles && files.length > this.maxFiles - this.fileRecords.length) {\n        files = files.slice(0, this.maxFiles - this.fileRecords.length);\n      }\n\n      for (const file of files) {\n        fileRecords.push(\n          new FileRecord(\n            {\n              file,\n            } as RawFileRecord,\n            {\n              read: this.shouldRead,\n              maxSize: this.maxSize,\n              accept: this.accept,\n              thumbnailSize: this.thumbnailSize,\n              averageColor: this.averageColor,\n              withCredentials: this.withCredentials,\n            }\n          )\n        );\n      }\n\n      for (const fileRecord of fileRecords) {\n        if (fileRecord.file.size <= 20 * 1024 * 1024) {\n          // <= 20MB\n          this.initVideo(fileRecord);\n        }\n      }\n      if (this.hasMultiple) {\n        // splice: for list transitions to work properly\n        this.fileRecords.splice(this.fileRecords.length, 0, ...fileRecords);\n      } else {\n        this.fileRecords = fileRecords;\n      }\n      FileRecord.readFiles(fileRecords).then((fileRecordsNew: FileRecord[]) => {\n        const allFileRecordsRaw = FileRecord.toRawArray(this.fileRecords);\n        this.rawFileRecords = allFileRecordsRaw;\n        this.$emit('input', Array.isArray(this.value) ? allFileRecordsRaw : allFileRecordsRaw[0]);\n        this.$emit('select', FileRecord.toRawArray(fileRecordsNew));\n      });\n      this.autoUpload(fileRecords);\n    },\n    filesChanged(event: InputEvent): void {\n      let files: File[] | FileList = (event.target as HTMLInputElement).files as FileList;\n      this.$emit('change', event);\n      if (!files[0]) {\n        return;\n      }\n      if (!this.hasMultiple) {\n        files = [files[0]];\n      }\n      this.handleFiles(files);\n      if (this.$refs.fileInput) {\n        (this.$refs.fileInput as any).value = null; // do not use ''\n        // because chrome won't fire change event for same file\n      }\n    },\n    drop(event: DragEvent): void {\n      event.stopPropagation();\n      event.preventDefault();\n      dragCounter = 0;\n      this.isDragging = false;\n      if (this.disabled === true || this.readonly === true) {\n        return;\n      }\n      if (!event.dataTransfer) {\n        return;\n      }\n      utils.getFilesFromDroppedItems(event.dataTransfer).then((files) => {\n        this.$emit('drop', event);\n        if (!files || !files[0]) {\n          return;\n        }\n        if (!this.hasMultiple) {\n          files = [files[0]];\n        }\n        this.handleFiles(files);\n      });\n    },\n    dragEnter(event: DragEvent): void {\n      if (!event.dataTransfer) {\n        return;\n      }\n      this.isDragging = true;\n      event.stopPropagation();\n      event.preventDefault();\n      dragCounter++;\n      event.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.\n    },\n    dragOver(event: DragEvent): void {\n      if (!event.dataTransfer) {\n        return;\n      }\n      this.isDragging = true;\n      event.stopPropagation();\n      event.preventDefault();\n      event.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.\n    },\n    dragLeave(event: DragEvent): void {\n      if (!event.dataTransfer) {\n        return;\n      }\n      dragCounter--;\n      if (dragCounter === 0) {\n        this.isDragging = false;\n      }\n    },\n    removeFileRecord(fileRecordOrRaw: FileRecord | RawFileRecord): void {\n      const rawFileRecord = this.getFileRecordRawInstance(fileRecordOrRaw);\n      this.$emit('beforedelete', rawFileRecord);\n      if (!this.uploadUrl || this.auto === false) {\n        return;\n      }\n      this.deleteFileRecord(fileRecordOrRaw);\n    },\n    deleteFileRecord(fileRecordOrRaw: FileRecord | RawFileRecord): void {\n      let i: number;\n      if (fileRecordOrRaw instanceof FileRecord) {\n        i = this.fileRecords.indexOf(fileRecordOrRaw);\n      } else {\n        i = this.rawFileRecords.indexOf(fileRecordOrRaw);\n      }\n      let fileRecord = this.fileRecords[i];\n      let rawFileRecord = this.rawFileRecords[i];\n      this.$emit('input', this.rawFileRecords);\n      this.$emit('delete', rawFileRecord);\n      fileRecord = this.fileRecords.splice(i, 1)[0];\n      rawFileRecord = this.rawFileRecords.splice(i, 1)[0];\n      this.autoDeleteUpload(fileRecord).then(\n        (res) => {\n          /* no op */\n        },\n        (err) => {\n          this.fileRecords.splice(i, 0, fileRecord);\n          this.rawFileRecords.splice(i, 0, rawFileRecord);\n        }\n      );\n    },\n    filenameChanged(fileRecord: FileRecord): void {\n      this.$emit('rename', FileRecord.toRawArray([fileRecord])[0]);\n      this.autoUpdateUpload(fileRecord).then(\n        (res) => {\n          /* no op */\n        },\n        (err) => {\n          fileRecord.customName = fileRecord.oldCustomName;\n        }\n      );\n    },\n    checkValue(): void {\n      let rawFileRecords: RawFileRecord[] = this.value || [];\n      rawFileRecords = Array.isArray(rawFileRecords) ? rawFileRecords : [rawFileRecords];\n\n      const fdPromises: Array<Promise<FileRecord>> = [];\n      const rawFileRecordsNew: RawFileRecord[] = [];\n\n      for (let i = 0; i < rawFileRecords.length; i++) {\n        const existingIndex = this.rawFileRecords.indexOf(rawFileRecords[i]);\n        if (existingIndex !== -1) {\n          fdPromises.push(Promise.resolve(this.fileRecords[existingIndex]));\n          rawFileRecordsNew[i] = this.rawFileRecords[existingIndex];\n        } else {\n          fdPromises.push(\n            FileRecord.fromRaw(rawFileRecords[i], {\n              read: this.shouldRead,\n              maxSize: this.maxSize,\n              accept: this.accept,\n              thumbnailSize: this.thumbnailSize,\n              averageColor: this.averageColor,\n              withCredentials: this.withCredentials,\n            })\n          );\n          rawFileRecordsNew.push(rawFileRecords[i]);\n        }\n      }\n\n      this.rawFileRecords = rawFileRecordsNew;\n      Promise.all(fdPromises).then((fileRecords) => {\n        this.fileRecords = fileRecords;\n      });\n    },\n    sortStart(): void {\n      if (this.sortTimeout) {\n        clearTimeout(this.sortTimeout);\n      }\n      this.isSorting = true;\n      this.isSortingActive = true;\n    },\n    sortEnd(sortData: { event: Event; newIndex: number; oldIndex: number; collection: any }): void {\n      this.isSortingActive = false;\n      if (this.sortTimeout) {\n        clearTimeout(this.sortTimeout);\n      }\n      this.sortTimeout = setTimeout(() => {\n        this.isSorting = false;\n      }, this.transitionDuration + 100);\n      if (sortData.oldIndex !== sortData.newIndex) {\n        this.rawFileRecords = utils.arrayMove(this.rawFileRecords, sortData.oldIndex, sortData.newIndex);\n        this.$nextTick(() => {\n          this.$emit('input', this.rawFileRecords);\n          this.$emit('sort', {\n            oldIndex: sortData.oldIndex,\n            newIndex: sortData.newIndex,\n          });\n        });\n      }\n    },\n  },\n  created() {\n    this.uniqueId = new Date().getTime().toString(36) + Math.random().toString(36).slice(2);\n    this.checkValue();\n  },\n  watch: {\n    value() {\n      this.checkValue();\n    },\n  },\n});\n","<template>\n  <div\n    @dragover=\"dragOver\"\n    @dragenter=\"dragEnter\"\n    @dragleave=\"dragLeave\"\n    @drop=\"drop\"\n    :class=\"[\n      'is-sortable-' + (isSortable ? 'enabled' : 'disabled'),\n      {\n        'is-sortable-hold': sortable === 'hold',\n        'is-sortable-handle': sortable === 'handle',\n        'is-sortable-immediately': sortable === true,\n        'is-sorting': isSorting,\n        'is-sorting-active': isSortingActive,\n        'is-drag-over': isDragging,\n        'is-disabled': disabled === true,\n        'is-readonly': readonly === true,\n        'is-drag-valid': !(disabled === true || readonly === true || (hasMultiple && !canAddMore)),\n      },\n      'theme-' + theme,\n    ]\"\n    :id=\"'vfa-' + uniqueId\"\n  >\n    <slot name=\"before-outer\"></slot>\n    <div\n      class=\"grid-block-wrapper vue-file-agent file-input-wrapper\"\n      :class=\"{\n        'is-compact': !!compact,\n        'is-single': !hasMultiple,\n        'has-multiple': hasMultiple,\n        'no-meta': meta === false,\n      }\"\n    >\n      <slot name=\"before-inner\"></slot>\n      <canvas ref=\"thumbnailCanvas\" style=\"position: fixed; visibility: hidden; z-index: -3;\"></canvas>\n      <div class=\"overall-progress\" v-if=\"overallProgress\" :class=\"{ 'overall-progress-full': overallProgress >= 100 }\">\n        <div class=\"overall-progress-bar\" :style=\"{ width: overallProgress + '%' }\"></div>\n        <div class=\"overall-progress-left\" :style=\"{ width: 100 - overallProgress + '%' }\"></div>\n      </div>\n\n      <component\n        :is=\"isSortable ? 'vfa-sortable-list' : 'VueFileList'\"\n        v-model=\"fileRecords\"\n        :axis=\"theme == 'list' ? 'y' : 'xy'\"\n        :appendTo=\"'#vfa-' + uniqueId + ' .vue-file-agent'\"\n        :transitionDuration=\"transitionDuration\"\n        :pressDelay=\"sortable === 'hold' ? 200 : 0\"\n        :useDragHandle=\"sortable === 'handle'\"\n        @sort-start=\"sortStart()\"\n        @sort-end=\"sortEnd($event)\"\n        :helperClass=\"'active-sorting-item'\"\n      >\n        <transition-group name=\"grid-box\" tag=\"div\" class=\"\">\n          <!-- <template v-for=\"(fileRecord, index) in fileRecords\"> -->\n          <component\n            :is=\"isSortable ? 'vfa-sortable-item' : 'VueFileListItem'\"\n            v-for=\"(fileRecord, index) in fileRecords\"\n            class=\"file-preview-wrapper grid-box-item grid-block\"\n            :index=\"index\"\n            :key=\"fileRecord.id\"\n          >\n            <span v-vfa-sortable-handle class=\"file-sortable-handle\" v-if=\"sortable === 'handle'\">\n              <slot name=\"sortable-handle\">\n                <VueFileIcon name=\"system-sortable-handle\"></VueFileIcon>\n              </slot>\n            </span>\n            <slot name=\"file-preview-before\" :fileRecord=\"fileRecord\" :fileData=\"fileRecord\" :index=\"index\">\n            </slot>\n            <slot name=\"file-preview\" :fileRecord=\"fileRecord\" :fileData=\"fileRecord\" :index=\"index\">\n              <VueFilePreview\n                :averageColor=\"averageColor\"\n                :value=\"fileRecord\"\n                :deletable=\"isDeletable\"\n                :editable=\"editable === true\"\n                :linkable=\"linkable === true\"\n                :errorText=\"errorText\"\n                :disabled=\"disabled\"\n                :thumbnailSize=\"thumbnailSize\"\n                :withCredentials=\"withCredentials\"\n                @remove=\"removeFileRecord($event)\"\n                @rename=\"filenameChanged($event)\"\n                class=\"\"\n              ></VueFilePreview>\n            </slot>\n            <slot name=\"file-preview-after\" :fileRecord=\"fileRecord\" :fileData=\"fileRecord\" :index=\"index\">\n            </slot>\n          </component>\n          <!-- </template> -->\n          <template v-if=\"canAddMore && readonly !== true\">\n            <slot name=\"file-preview-new\">\n              <div key=\"new\" class=\"file-preview-wrapper grid-box-item grid-block file-preview-new\">\n                <span class=\"file-preview\">\n                  <span style=\"position: absolute; top: 0; right: 0; bottom: 0; left: 0;\">\n                    <VueFileIcon name=\"system-file-preview-new\"></VueFileIcon>\n                    <span class=\"help-text\">{{ helpTextComputed }}</span>\n                  </span>\n                </span>\n              </div>\n            </slot>\n          </template>\n        </transition-group>\n      </component>\n      <input\n        title=\"\"\n        :disabled=\"disabled === true || (hasMultiple && !canAddMore)\"\n        ref=\"fileInput\"\n        type=\"file\"\n        :multiple=\"hasMultiple\"\n        class=\"file-input\"\n        @change=\"filesChanged\"\n        :accept=\"accept || '*'\"\n        :capture=\"capture || undefined\"\n        v-if=\"readonly !== true\"\n      />\n      <slot name=\"after-inner\"></slot>\n    </div>\n    <slot name=\"after-outer\"></slot>\n  </div>\n</template>\n<style lang=\"scss\">\n@import '../scss/vue-file-agent.scss';\n</style>\n<script lang=\"ts\">\nimport Vue from 'vue';\nimport mixin from './vue-file-agent-mixin';\n\nexport default Vue.extend({\n  mixins: [mixin],\n});\n</script>\n","import mod from \"-!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue-file-agent.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue-file-agent.vue?vue&type=script&lang=ts\"","// extracted by mini-css-extract-plugin\nexport {};","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue-file-agent.vue?vue&type=style&index=0&id=d0148d4a&prod&lang=scss\"","import { render, staticRenderFns } from \"./vue-file-agent.vue?vue&type=template&id=d0148d4a\"\nimport script from \"./vue-file-agent.vue?vue&type=script&lang=ts\"\nexport * from \"./vue-file-agent.vue?vue&type=script&lang=ts\"\nimport style0 from \"./vue-file-agent.vue?vue&type=style&index=0&id=d0148d4a&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import VueFileIcon from './components/vue-file-icon.vue';\nimport VueFilePreview from './components/vue-file-preview.vue';\nimport VueFileList from './components/vue-file-list.vue';\nimport VueFileListItem from './components/vue-file-list-item.vue';\nimport VueFileAgent from './components/vue-file-agent.vue';\nimport VueFileAgentMixin from './components/vue-file-agent-mixin';\nimport VueFilePreviewMixin from './components/vue-file-preview-mixin';\nimport utils from './lib/utils';\nimport plugins from './lib/plugins';\nimport FileRecord from './lib/file-record';\n\nimport _Vue from 'vue';\n\nexport class VueFileAgentPlugin implements Vue.PluginObject<any> {\n  public VueFileIcon = VueFileIcon;\n  public VueFilePreview = VueFilePreview;\n  public VueFileAgent = VueFileAgent;\n  public component = VueFileAgent;\n  public mixin = VueFileAgentMixin;\n  public plugins = plugins;\n\n  public VueFileAgentMixin = VueFileAgentMixin;\n  public VueFilePreviewMixin = VueFilePreviewMixin;\n\n  public install: Vue.PluginFunction<any> = (Vue: typeof _Vue, options: any) => {\n    Vue.component('VueFileIcon', VueFileIcon);\n    Vue.component('VueFilePreview', VueFilePreview);\n    Vue.component('VueFileList', VueFileList);\n    Vue.component('VueFileListItem', VueFileListItem);\n    Vue.component('VueFileAgent', VueFileAgent);\n    Vue.prototype.$vueFileAgent = {\n      mixin: VueFileAgentMixin,\n    };\n  }\n}\n\nconst vfaPlugin = new VueFileAgentPlugin();\n\n// auto install\nif (typeof window !== 'undefined' && window.Vue) {\n  vfaPlugin.install(window.Vue, {});\n  (window as any).VueFileAgent = vfaPlugin;\n}\n\nexport const mixin = VueFileAgentMixin;\n\nexport { VueFileAgentMixin, VueFilePreviewMixin };\n\nexport { utils, FileRecord, plugins };\n\nexport const FileData = FileRecord; // for backward compatibility\n\nexport default vfaPlugin;\n","import './setPublicPath'\nimport mod from '~entry'\nexport default mod\nexport * from '~entry'\n"],"names":[],"sourceRoot":""}